<!DOCTYPE html>
<html lang="fr-FR">
	<head>
		<title>Loric Code - SQL</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" href="icone.png">
		<link rel="stylesheet" href ="style.css">
	</head>
	<style>
		.script_tabulation{
			margin-left: 16px;
		}
	</style>
	<body id="body">
		<header>
			<div class="titre">
				<img id="icon" src="icone.png">
				<h1>Loric Code</h1>
			</div>
			<nav>
				<ul>
					<li id="menu-0">
						<img id="img_nav" src="bar_off.png">
					</li>
					<li id="menu-1">
						<form action="index.html">
							<button id="nav1" type="submit">Accueil</button>
						</form>
					</li>
					<li id="menu-2">
						<form action="outils.html">
							<button id="nav2" type="submit">Outils</button>
						</form>
					</li>
					<li id="menu-3">
						<form action="langages.html">
							<button id="nav3" type="submit">Langages</button>
						</form>
					</li>
					<li id="menu-4">
						<form action="../tous_les_sites.php">
							<button id="nav4" type="submit">Autres sites</button>
						</form>
					</li>
					<li id="menu-5">
						<form action="pour_info.html">
							<button id="nav5" type="submit">À propos de nous</button>
						</form>
					</li>
				</ul>
			</nav>
		</header>
		<article>
			<section class="partie1">
				<div class="ligne">
					<div>
						<h2>SQL</h2>
						<div class="telecharger_memento">
							<p>Le mémento SQL est disponible en téléchargement ici : </p>
							<a href="https://1drv.ms/b/s!AtCsDoqIkrPagewwbnn5ziy4BeI9Kw?e=v304Aj" class="download">Télécharger</a>
						</div>
						<br/>
						<p>Outils nécessaires :</p>
						<ul>
							<li>UwAmp ou WampServer (contenant MySQL et PhpMyAdmin)</li>
							<li>Un logiciel de codage (ex : Notepad++, Visual Studio Code...)</li>
							<li>Ou SQL Developper (contenant Oracle si vous avez un serveur simple hébergé)</li>
						</ul>
					</div>
					<!--
					<div class="logo">
						<img src="icone.png">
					</div>
					-->
					<img src="sql.png" width="200px" height="200px">
				</div>
			</section>
			<section class="partie2">
				<div>
					<h2>I. Bases</h2>
					<div class="tab">
						<h3>1. Syntaxe</h3>
						<div class="tab">
							<p class="script">
								<i>requête1</i>;<br/>
								<i>requête2</i>;<br/>
								<i>requête3</i>;<br/>
							</p>
						</div>
						<h3>2. Types de variables</h3>
						<div class="tab">
							<h4>A. Chaînes de caractères</h4>
							<div class="tab">
								<h5>a. Pour MySQL</h5>
								<table>
									<tr>
										<th>Type</th>
										<th>Description</th>
									</tr>
									<tr>
										<td class="script">CHAR(X)</td>
										<td>Longueur fixée à X caractères (maximum : 255)</td>
									</tr>
									<tr>
										<td class="script">VARCHAR(X)</td>
										<td>Longueur inférieure ou égale à X caractères (maximum : 255)</td>
									</tr>
									<tr>
										<td class="script">TEXT</td>
										<td>Longueur inférieure ou égale à X caractères (sans limites)</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
									</tr>
									-->
								</table>
								<h5>b. Pour Oracle</h5>
								<table>
									<tr>
										<th>Type</th>
										<th>Description</th>
									</tr>
									<tr>
										<td class="script">CHAR(X)</td>
										<td>Longueur fixée à X caractères (maximum : 255)</td>
									</tr>
									<tr>
										<td class="script">VARCHAR2(X)</td>
										<td>Longueur inférieure ou égale à X caractères (maximum : 255)</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
									</tr>
									-->
								</table>
							</div>
							<h4>B. Numériques</h4>
							<div class="tab">
								<h5>a. Pour MySQL</h5>
								<table>
									<tr>
										<th>Type</th>
										<th>Minimum</th>
										<th>Maximum</th>
										<th>Description</th>
									</tr>
									<tr>
										<td class="script">INT</td>
										<td>-2147483648</td>
										<td>2147483647</td>
										<td>Nombre entier</td>
									</tr>
									<tr>
										<td class="script">FLOAT</td>
										<td>-3.402823466<sub>x10</sub><sup>38</sup></td>
										<td>3.402823466<sub>x10</sub><sup>38</sup></td>
										<td>Nombre décimal</td>
									</tr>
									<tr>
										<td class="script">TINYINT</td>
										<td>-128</td>
										<td>127</td>
										<td>Nombre entier</td>
									</tr>
									<tr>
										<td class="script">SMALLINT</td>
										<td>-32768</td>
										<td>32767</td>
										<td>Nombre entier</td>
									</tr>
									<tr>
										<td class="script">MEDIUMINT</td>
										<td>-8388608</td>
										<td>8388607</td>
										<td>Nombre entier</td>
									</tr>
									<tr>
										<td class="script">BIGINT</td>
										<td>-9223372036854775808</td>
										<td>9223372036854775807</td>
										<td>Nombre entier</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
										<td></td>
										<td></td>
									</tr>
									-->
								</table>
								<h5>a. Pour Oracle</h5>
								<table>
									<tr>
										<th>Type</th>
										<th>Description</th>
									</tr>
									<tr>
										<td class="script">NUMBER(X)</td>
										<td>Longueur inférieure ou égale à X caractères</td>
									</tr>
									<tr>
										<td class="script">NUMBER(X, Y)</td>
										<td>Longueur inférieure ou égale à X chiffres dans la partie entière et inférieure ou égale à Y chiffres après la virgule</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
									</tr>
									-->
								</table>
							</div>
							<h4>C. Autres types de variables</h4>
							<div class="tab">
								<h5>a. Pour MySQL</h5>
								<table>
									<tr>
										<th>Type</th>
										<th>Description</th>
									</tr>
									<tr>
										<td class="script">BOOL</td>
										<td>0 = FALSE, 1 = TRUE</td>
									</tr>
									<tr>
										<td class="script">DATE</td>
										<td>Format : 'YYYY-MM-DD'  (ou TO_DATE('31-12-2024', 'DD-MM-YYYY') pour une meilleure compactibilité)</td>
									</tr>
									<tr>
										<td class="script">DATETIME</td>
										<td>Format : 'YYYY-MM-DD hh:mm:ss'</td>
									</tr>
									<tr>
										<td class="script">TIME</td>
										<td>Format : 'hh:mm:ss'</td>
									</tr>
									<tr>
										<td class="script">YEAR</td>
										<td>Min : 1901, Max : 2155</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
									</tr>
									-->
								</table>
								<h5>a. Pour Oracle</h5>
								<table>
									<tr>
										<th>Type</th>
										<th>Description</th>
									</tr>
									<tr>
										<td class="script">BOOLEAN</td>
										<td>0 = FALSE, 1 = TRUE</td>
									</tr>
									<tr>
										<td class="script">DATE</td>
										<td>Format : 'DD/MM/YYYY' (ou TO_DATE('31-12-2024', 'DD-MM-YYYY') pour une meilleure compactibilité)</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
									</tr>
									-->
								</table>
							</div>
						</div>
						<h3>3. Conditions</h3>
						<div class="tab">
							<table>
								<tr>
									<td>Opérateurs de comparaisons</td>
									<td class="script">= <> < <= > >=</td>
								</tr>
								<tr>
									<td>Connecteurs logiques</td>
									<td class="script">OR, AND</td>
								</tr>
								<tr>
									<td>Opérateur de négation</td>
									<td class="script">NOT</td>
								</tr>
								<tr>
									<td>Opérateurs mathématiques</td>
									<td class="script">+ - * /</td>
								</tr>
								<tr>
									<td>Comparaison logique</td>
									<td class="script">IS [NOT] {TRUE|FALSE|UNKNOWN}</td>
								</tr>
								<tr>
									<td>Comparaison avec valeur</td>
									<td class="script">IS [NOT] NULL</td>
								</tr>
								<tr>
									<td>Intervalle</td>
									<td class="script"><i>valeur</i> BETWEEN <i>borne_basse</i> AND <i>borne_haute</i></td>
								</tr>
								<tr>
									<td>Comparaison à une liste de valeurs</td>
									<td class="script"><i>valeur</i> [NOT] IN (<i>liste</i>)</td>
								</tr>
								<tr>
									<td>Comparaison à toutes les valeurs de la liste</td>
									<td class="script">ALL (<i>liste</i>)</td>
								</tr>
								<tr>
									<td>Comparaison à une valeur contenue dans la liste</td>
									<td class="script">ANY (<i>liste</i>)</td>
								</tr>
								<tr>
									<td>Comparaison avec une chaîne de caractère en MAJUSCULE</td>
									<td class="script">UPPER(<i>valeur</i>) = '<i>CHAINE</i>'</td>
								</tr>
								<tr>
									<td>Comparaison avec une chaîne de caractère en minuscule</td>
									<td class="script">LOWER(<i>valeur</i>) = '<i>chaine</i>'</td>
								</tr>
								<tr>
									<td>Comparaison avec une chaîne de caractère avec une majuscule au début et le reste en minuscules</td>
									<td class="script">INITCAP(<i>valeur</i>) = '<i>Chaine</i>'</td>
								</tr>
								<!--
								<tr>
									<td></td>
									<td class="script"></td>
								</tr>
								-->
							</table>
						</div>
						<h3>4. Commentaires</h3>
						<div class="tab">
							<p class="script">-- Commentaire tenant sur une ligne</p>
							<p class="script">/* Commentaire pouvant être sur une ou plusieurs lignes */</p>
						</div>
					</div>
					<h2>II. Requêtes d'initialisation de la base de données</h2>
					<div class="tab">
						<h3>1. Créer et utiliser la base de données</h3>
						<div class="tab">
							<p class="script">
								CREATE DATABASE <i>ma_base_de_donnee</i> CHARACTER SET utf8;<br/>
								USE <i>ma_base_de_donnee</i>;<br/>
							</p>
						</div>
						<h3>2. Créer une table (tableau de valeurs)</h3>
						<div class="tab">
							<h4>A. Avec MySQL</h4>
							<div class="tab">
							<p class="script">
								CREATE TABLE <i>table1</i> (<br/>
									<a class="script_tabulation"></a><i>attribut1 type1</i> [AUTO_INCREMENT],<br/>
									<a class="script_tabulation"></a><i>attribut2 type2</i>,<br/>
									<a class="script_tabulation"></a><i>attribut3 type3</i> [NOT NULL],<br/>
									<a class="script_tabulation"></a><i>attribut4 type4</i> [CHECK(<i>condition</i>)],<br/>
									<a class="script_tabulation"></a><i>attribut5 type5</i> [UNIQUE],<br/>
									<a class="script_tabulation"></a><i>attribut6 type6</i> [DEFAULT <i>valeur</i>],<br/>
									<a class="script_tabulation"></a>PRIMARY KEY (<i>attribut1</i>),<br/>
									<a class="script_tabulation"></a>[FOREIGN KEY (<i>attribut3</i>) REFERENCES <i>table2</i>(<i>attribut7</i>)]<br/>
								) [ENGINE = InnoDB];
							</p>
							<br/>
							<p><span class="script">AUTO_INCREMENT</span> permet de créer automatiquement les valeurs des clés primaires si le type est un nombre entier.</p>
							<p><span class="script">NOT NULL</span> permet de rendre obligatoire l’entrée d’une valeur dans un attribut.</p>
							<p><span class="script">CHECK</span> permet de vérifier la condition avant d'insérer un enregistrement.</p>
							<p><span class="script">UNIQUE</span> permet d'éviter l'insertion de plusieurs valeurs identiques.</p>
							<p><span class="script">DEFAULT</span> permet de remplacer une valeur non renseignée par une autre.</p>
							<p><span class="script">FOREIGN KEY (attribut3) REFERENCES table2(attribut7)</span> permet de créer une clé étrangère en relation avec une autre table (déjà existante).</p>
							<p><span class="script">ENGINE=InnoDB</span> : facultatif, mais conseillé en cas d’utilisation de PhpMyAdmin pour faire des requêtes.</p>
							</div>
							<h4>B. Avec Oracle (2 méthodes)</h4>
							<div class="tab">
							<p class="script">
								CREATE TABLE <i>table1</i> (<br/>
									<a class="script_tabulation"></a><i>attribut1 type1</i> [GENERATED AS IDENTITY],<br/>
									<a class="script_tabulation"></a><i>attribut2 type2</i>,<br/>
									<a class="script_tabulation"></a><i>attribut3 type3</i> [[CONSTRAINT nn_<i>nom_contrainte</i>] NOT NULL],<br/>
									<a class="script_tabulation"></a><i>attribut4 type4</i> [[CONSTRAINT ck_<i>nom_contrainte</i>] CHECK(<i>condition</i>)],<br/>
									<a class="script_tabulation"></a><i>attribut5 type5</i> [[CONSTRAINT uq_<i>nom_contrainte</i>] UNIQUE],<br/>
									<a class="script_tabulation"></a><i>attribut6 type6</i> [DEFAULT <i>valeur</i>],<br/>
									<a class="script_tabulation"></a>[CONSTRAINT pk_<i>nom_contrainte</i>] PRIMARY KEY (<i>attribut1</i>),<br/>
									<a class="script_tabulation"></a>[[CONSTRAINT fk_<i>nom_contrainte</i>] FOREIGN KEY (<i>attribut3</i>) REFERENCES <i>table2</i>(<i>attribut7</i>)]<br/>
								);
							</p>
							<p>ou</p>
							<p class="script">
								CREATE TABLE <i>table1</i> (<br/>
									<a class="script_tabulation"></a><i>attribut1 type1</i> [CONSTRAINT pk_<i>nom_contrainte</i>] PRIMARY KEY [GENERATED AS IDENTITY],<br/>
									<a class="script_tabulation"></a><i>attribut2 type2</i>,<br/>
									<a class="script_tabulation"></a><i>attribut3 type3</i> [[CONSTRAINT fk_<i>nom_contrainte</i>] REFERENCES <i>table2</i>(<i>attribut7</i>)],<br/>
									<a class="script_tabulation"></a><i>attribut4 type4</i> [[CONSTRAINT ck_<i>nom_contrainte</i>] CHECK(<i>condition</i>)],<br/>
									<a class="script_tabulation"></a><i>attribut5 type5</i> [[CONSTRAINT uq_<i>nom_contrainte</i>] UNIQUE],<br/>
									<a class="script_tabulation"></a><i>attribut6 type6</i> [DEFAULT <i>valeur</i>]<br/>
								);
							</p>
							<br/>
							<p><span class="script">GENERATED AS IDENTITY</span> permet de créer automatiquement les valeurs des clés primaires si le type est un nombre entier.</p>
							<p><span class="script">NOT NULL</span> permet de rendre obligatoire l’entrée d’une valeur dans un attribut.</p>
							<p><span class="script">CHECK</span> permet de vérifier la condition avant d'insérer un enregistrement.</p>
							<p><span class="script">UNIQUE</span> permet d'éviter l'insertion de plusieurs valeurs identiques.</p>
							<p><span class="script">DEFAULT</span> permet de remplacer une valeur non renseignée par une autre.</p>
							<p><span class="script">FOREIGN KEY (attribut3) REFERENCES table2(attribut7)</span> permet de créer une clé étrangère en relation avec une autre table (déjà existante).</p>
							</div>
						</div>
						<h3>3. Supprimer une table</h3>
						<div class="tab">
							<p class="script">DROP TABLE <i>table1</i>;</p>
						</div>
						<!--
						<h3></h3>
						<div class="tab">
							<p class="script"></p>
						</div>
						-->
					</div>
					<h2>III. Requêtes de mise à jour de la table</h2>
					<div class="tab">
						<h3>1. Insérer un enregistrement (ligne)</h3>
						<div class="tab">
							<p class="script">INSERT INTO <i>ma_table</i><br/>VALUES (<i>valeur1</i>, <i>valeur2…</i>), (<i>valeur3</i>, <i>valeur4…</i>);</p>
							<p>ou</p>
							<p class="script">INSERT INTO <i>ma_table</i> (<i>attribut1</i>, <i>attribut2…</i>)<br/>VALUES (<i>valeur1</i>, <i>valeur2…</i>);</p>
							<br/>
							<p>Attention ! Sur Oracle, il est impossible d'inserer plusieurs lignes/enregistrements à la fois (c'est-à-dire ajouter (<i>valeur3</i>, <i>valeur4…</i>);)</p>
						</div>
						<h3>2. Mettre à jour un ou plusieurs enregistrement(s)</h3>
						<div class="tab">
							<p class="script">UPDATE <i>ma_table</i><br/>SET <i>attribut</i> = <i>valeur</i><br/>WHERE <i>condition</i>;</p>
						</div>
						<h3>3. Supprimer un ou plusieurs enregistrement(s)</h3>
						<div class="tab">
							<p class="script">DELETE FROM <i>ma_table</i><br/>WHERE <i>condition</i>;</p>
						</div>
						<h3>4. Modifier la structure de la table</h3>
						<div class="tab">
							<h4>A. Ajouter une colonne</h4>
							<div class="tab">
								<p class="script">ALTER TABLE <i>table1</i><br/>ADD <i>attribut type</i>;</p>
							</div>
							<h4>B. Supprimer une colonne</h4>
							<div class="tab">
								<p class="script">ALTER TABLE <i>table1</i><br/>DROP COLUMN <i>attribut</i>;</p>
							</div>
							<h4>C. Modifier le type d'une colonne</h4>
							<div class="tab">
								<p class="script">ALTER TABLE <i>table1</i><br/>MODIFY <i>attribut type</i>;</p>
							</div>
							<h4>D. Modifier le nom d'une colonne</h4>
							<div class="tab">
								<p class="script">ALTER TABLE <i>table1</i><br/>RENAME <i>ancien_nom</i> TO <i>nouveau_nom</i>;</p>
							</div>
						</div>
						<!--
						<h3></h3>
						<div class="tab">
							<p class="script"></p>
						</div>
						-->
					</div>
					<h2>IV. Requêtes de sélection de données</h2>
					<div class="tab">
						<h3>1. Sélection de tous les enregistrements de la table</h3>
						<div class="tab">
							<p class="script">SELECT * FROM <i>table1</i>;</p>
							<p>ou</p>
							<p class="script">SELECT * FROM <i>table1</i> WHERE 1;</p>
						</div>
						<h3>2. Sélection des enregistrements la table respectant la condition</h3>
						<div class="tab">
							<p class="script">SELECT * FROM <i>table1</i><br/>WHERE <i>condition</i><br/>[ORDER BY <i>attribut1</i>[DESC]];</p>
						</div>
						<h3>3. Sélection des attributs de la table avec des enregistrements respectant la condition</h3>
						<div class="tab">
							<p class="script">SELECT <i>attribut1, attribut2</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
						</div>
						<h3>4. Sélection d’un attribut de la table sans répétitions d'enregistrements respectant la condition</h3>
						<div class="tab">
							<p class="script">SELECT DISTINCT(<i>attribut1</i>) FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							<p>ou</p>
							<p class="script">SELECT DISTINCT(<i>attribut1</i>) FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
						</div>
						<h3>5. Sélection des attributs de la table avec des enregistrements contenant un mot</h3>
						<div class="tab">
							<p class="script">SELECT <i>attribut1, attribut2</i> FROM <i>table1</i><br/>WHERE <i>attribut1</i> LIKE '%<i>mot</i>%';</p>
							<br/>
							<p>'%' : zéro ou plusieurs caractères</p>
							<p>'_' : un seul caractère</p>
						</div>
						<h3>6. Sélection des attributs de la table avec des enregistrements contenant un mot d’une certaine longueur</h3>
						<div class="tab">
							<p class="script">SELECT <i>attribut1</i>, <i>attribut2</i>… FROM <i>table1</i><br/>WHERE LENGTH(<i>attribut1</i>) = <i>longueur</i>;</p>
						</div>
						<h3>7. Sélection des attributs de la table avec une ou plusieurs jointure(s) à une autre table</h3>
						<div class="tab">
							<h4>A. Jointure interne simple</h4>
							<div class="tab">
								<p class="script">
									SELECT <i>table1.attribut1</i>, <i>table2.attribut3</i> FROM <i>table1</i><br/>
									[INNER] JOIN <i>table2</i> ON <i>table1.attribut1</i> = <i>table2.attribut2</i><br/>
									WHERE <i>condition</i>;
								</p>
								<p>Autre solution (à utiliser uniquement pour deux attributs identiques de deux tables différentes) :</p>
								<p class="script">
									SELECT <i>table1.attribut1</i>, <i>table2.attribut3</i> FROM <i>table1</i><br/>
									[INNER] JOIN <i>table2</i> USING(<i>attribut2</i>)<br/>
									WHERE <i>condition</i>;
								</p>
							</div>
							<h4>B. Jointure externe gauche (enregistrements de la table de gauche non présents dans la table de droite)</h4>
							<div class="tab">
								<p class="script">
									SELECT <i>table1.attribut1</i>, <i>table2.attribut3</i> FROM <i>table1</i><br/>
									LEFT [OUTER] JOIN <i>table2</i> ON <i>table1.attribut1</i> = <i>table2.attribut2</i><br/>
									WHERE <i>condition</i>;
								</p>
							</div>
							<h4>C. Jointure externe droite (enregistrements de la table de droite non présents dans la table de gauche)</h4>
							<div class="tab">
								<p class="script">
									SELECT <i>table1.attribut1</i>, <i>table2.attribut3</i> FROM <i>table1</i><br/>
									RIGHT [OUTER] JOIN <i>table2</i> ON <i>table1.attribut1</i> = <i>table2.attribut2</i><br/>
									WHERE <i>condition</i>;
								</p>
							</div>
							<h4>D. Jointure externe entière (tous les enregistrements non présents dans une autre table)</h4>
							<div class="tab">
								<p class="script">
									SELECT <i>table1.attribut1</i>, <i>table2.attribut3</i> FROM <i>table1</i><br/>
									FULL [OUTER] JOIN <i>table2</i> ON <i>table1.attribut1</i> = <i>table2.attribut2</i><br/>
									WHERE <i>condition</i>;
								</p>
							</div>
							<h4>E. Jointure naturelle (pour deux tables avec une colonne du même nom)</h4>
							<div class="tab">
								<p class="script">
									SELECT <i>table1.attribut1</i>, <i>table2.attribut3</i> FROM <i>table1</i><br/>
									NATURAL JOIN <i>table2</i><br/>
									WHERE <i>condition</i>;
								</p>
							</div>
							<h4>F. Produit cartésien</h4>
							<div class="tab">
								<p class="script">
									SELECT <i>table1.attribut1</i>, <i>table2.attribut3</i> FROM <i>table1</i><br/>
									CROSS JOIN <i>table2</i><br/>
									WHERE <i>condition</i>;
								</p>
							</div>

						</div>
						<h3>8. Calculer le nombre d’enregistrements de la table respectant la condition</h3>
						<div class="tab">
							<h4>A. Avec MySQL</h4>
							<div class="tab">
								<p class="script">SELECT COUNT(*) AS <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							</div>
							<h4>B. Avec Oracle</h4>
							<div class="tab">
								<p class="script">SELECT COUNT(*) [AS] <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							</div>
						</div>
						<h3>9. Calculer le nombre d’enregistrements de la table pour chaque enregistrement d'attribut du même nom respectant la condition</h3>
						<div class="tab">
							<h4>A. Avec MySQL</h4>
							<div class="tab">
								<p class="script">SELECT <i>attribut1</i>, <i>attribut2</i>, COUNT(*) AS <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition1</i><br/>
								GROUP BY <i>attribut1</i>, <i>attribut2</i><br/>
								[HAVING <i>condition2</i>];</p>
							</div>
							<h4>B. Avec Oracle</h4>
							<div class="tab">
								<p class="script">SELECT <i>attribut1</i>, <i>attribut2</i>, COUNT(*) [AS] <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition1</i><br/>
								GROUP BY <i>attribut1</i>, <i>attribut2</i><br/>
								[HAVING <i>condition2</i>];</p>
							</div>
						</div>
						<h3>10. Calculer la somme des enregistrements (numériques) d'un attribut de la table respectant la condition</h3>
						<div class="tab">
							<h4>A. Avec MySQL</h4>
							<div class="tab">
								<p>Pour des valeur non nulle :<br/>
								<span class="script">SELECT SUM(<i>attribut1</i>) AS <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</span></p>
								<p>Avec COALESCE() pour remplacer null par une autre valeur (ici 0) :<br/>
								<span class="script">SELECT SUM(COALESCE(<i>attribut1</i>, 0)) AS <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</span></p>
							</div>
							<h4>B. Avec Oracle</h4>
							<div class="tab">
								<p>Pour des valeur non nulle :<br/>
								<span class="script">SELECT SUM(<i>attribut1</i>) [AS] <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</span></p>
								<p>Avec COALESCE() pour remplacer null par une autre valeur (ici 0) :<br/>
								<span class="script">SELECT SUM(COALESCE(<i>attribut1</i>, 0)) [AS] <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</span></p>
							</div>
						</div>
						<h3>11. Calculer la moyenne des enregistrements (numériques) d'un attribut de la table respectant la condition</h3>
						<div class="tab">
							<h4>A. Avec MySQL</h4>
							<div class="tab">
								<p class="script">SELECT AVG(<i>attribut1</i>) AS <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							</div>
							<h4>B. Avec Oracle</h4>
							<div class="tab">
								<p class="script">SELECT AVG(<i>attribut1</i>) [AS] <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							</div>
						</div>
						<h3>12. Calculer la moyenne avec arrondis (n chiffres après la virgule si n renseigné) des enregistrements (numériques) d'un attribut de la table respectant la condition</h3>
						<div class="tab">
							<h4>A. Avec MySQL</h4>
							<div class="tab">
								<p class="script">SELECT ROUND(AVG(<i>attribut1</i>), <i>n</i>) AS <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							</div>
							<h4>B. Avec Oracle</h4>
							<div class="tab">
								<p class="script">SELECT ROUND(AVG(<i>attribut1</i>), <i>n</i>) [AS] <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							</div>
						</div>
						<h3>13. Calculer le minimum des enregistrements (numériques) d'un attribut de la table respectant la condition</h3>
						<div class="tab">
							<p class="script">SELECT MIN(<i>attribut1</i>) AS <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
						</div>
						<h3>14. Calculer le maximum des enregistrements (numériques) d'un attribut de la table respectant la condition</h3>
						<div class="tab">
							<h4>A. Avec MySQL</h4>
							<div class="tab">
								<p class="script">SELECT MAX(<i>attribut1</i>) AS <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							</div>
							<h4>B. Avec Oracle</h4>
							<div class="tab">
								<p class="script">SELECT MAX(<i>attribut1</i>) [AS] <i>variable</i> FROM <i>table1</i><br/>WHERE <i>condition</i>;</p>
							</div>
						</div>
						<h3>15. Sélection des enregistrements d'un attribut présents dans la première table ou la deuxième ou les deux (union)</h3>
						<div class="tab">
							<p class="script">SELECT <i>attribut1</i> FROM <i>table1</i> <br/>UNION<br/> SELECT <i>attribut1</i> FROM <i>table2</i>;</p>
						</div>
						<h3>16. Sélection des enregistrements d'un attribut présents dans la première table, mais pas la deuxième (différence)</h3>
						<div class="tab">
							<p class="script">SELECT <i>attribut1</i> FROM <i>table1</i> <br/>MINUS<br/> SELECT <i>attribut1</i> FROM <i>table2</i>;</p>
						</div>
						<h3>17. Sélection des enregistrements d'un attribut présents dans la première table et la deuxième (intersection)</h3>
						<div class="tab">
							<p class="script">SELECT <i>attribut1</i> FROM <i>table1</i> <br/>INTERSECT<br/> SELECT <i>attribut1</i> FROM <i>table2</i>;</p>
						</div>
						
						<!--
						<h3></h3>
						<div class="tab">
							<p class="script"></p>
						</div>
						-->
					</div>
					<h2>V. Autres requêtes de données</h2>
					<div class="tab">
						<h3>1. Requête de description d’une table</h3>
						<div class="tab">
							<p class="script">DESC <i>table1</i>;</p>
							<p>ou</p>
							<p class="script">DESCRIBE <i>table1</i>;</p>
						</div>
						<h3>2. Requête de sélection de données avec allias</h3>
						<div class="tab">
							<h4>A. Avec MySQL</h4>
							<div class="tab">
								<p class="script">SELECT <i>t.attribut1</i> FROM <i>table1</i> AS <i>t</i>;</p>
							</div>
							<h4>B. Avec Oracle</h4>
							<div class="tab">
								<p class="script">SELECT <i>t.attribut1</i> FROM <i>table1</i> <i>t</i>;</p>
							</div>
						</div>
						<h3>3. Modifier le nom d'une table</h3>
						<div class="tab">
							<p class="script">RENAME <i>ancien_nom</i> TO <i>nouveau_nom</i>;</p>
						</div>
						<h3>4. Les transactions</h3>
						<div class="tab">
							<p>Valider une transaction : <span class="script">COMMIT;</span></p>
							<p>Annuler une transaction : <span class="script">ROLLBACK;</span></p>
						</div>
						<h3>5. Les contraintes (sur Oracle uniquement)</h3>
						<div class="tab">
							<h4>A. Ajouter une contrainte (exemple avec une clé primaire)</h4>
							<div class="tab">
								<p class="script">ALTER TABLE <i>table1</i><br/>ADD CONSTRAINT <i>pk_cle</i> PRIMARY KEY(<i>attribut1</i>);</p>
							</div>
							<h4>B. Supprimer une contrainte (exemple avec une clé primaire)</h4>
							<div class="tab">
								<p class="script">ALTER TABLE <i>table1</i><br/>DROP CONSTRAINT <i>pk_cle</i>;</p>
							</div>
							<h4>C. Activer/Désactiver une contrainte d'intégrité (exemple avec une clé primaire)</h4>
							<div class="tab">
								<p class="script">ALTER TABLE <i>table1</i><br/>ENABLE/DISABLE <i>pk_cle</i>;</p>
							</div>
						</div>
					</div>
					<h2>VI. Les fonctions</h2>
					<div class="tab">
						<h3>1. Les fonctions arithmétiques</h3>
						<div class="tab">
							<table>
								<tr>
									<th>Fonction</th>
									<th>Utilité</th>
								</tr>
								<tr>
									<td class="script">ROUND(<i>n</i>, <i>d</i>)</td>
									<td>Arrondit <i>n</i> au réel à <i>d</i> chiffres après la virgule ou à l’entier si <i>d</i> n’est pas renseigné</td>
								</tr>
								<tr>
									<td class="script">TRUNC(<i>n</i>, <i>d</i>)</td>
									<td>Tronque <i>n</i> à <i>d</i> chiffres après la virgule ou à 0 si <i>d</i> n’est pas renseigné</td>
								</tr>
								<tr>
									<td class="script">POWER(<i>n</i>, <i>m</i>)</td>
									<td>Renvoie <i>n</i> à la puissance <i>m</i> (si <i>n</i> est négatif, <i>m</i> doit être un entier)</td>
								</tr>
								<tr>
									<td class="script">CEIL(<i>n</i>)</td>
									<td>Renvoie un entier directement supérieur ou égal à <i>n</i></td>
								</tr>
								<tr>
									<td class="script">FLOOR(<i>n</i>)</td>
									<td>Renvoie un entier directement supérieur ou égal à <i>n</i> (partie entière de <i>n</i>)</td>
								</tr>
								<tr>
									<td class="script">ABS(<i>n</i>)</td>
									<td>Renvoie la valeur absolue de <i>n</i></td>
								</tr>
								<tr>
									<td class="script">MOD(<i>n</i>, <i>m</i>)</td>
									<td>Renvoie le reste de la division de <i>n</i> par <i>m</i></td>
								</tr>
								<tr>
									<td class="script">SQRT(<i>n</i>)</td>
									<td>Renvoie la racine carrée</td>
								</tr>
								<tr>
									<td class="script">SIGN(<i>n</i>)</td>
									<td>Renvoie -1 si <i>n</i> est négatif, 1 si <i>n</i> est positif et 0 si <i>n</i> égal à 0</td>
								</tr>
								<!--
								<tr>
									<td class="script"></td>
									<td></td>
								</tr>
								-->
							</table>
						</div>
						<h3>2. Les fonctions pour les chaînes de caractères</h3>
						<div class="tab">
							<table>
								<tr>
									<th>Fonction</th>
									<th>Utilité</th>
								</tr>
								<tr>
									<td class="script">LENGTH(<i>chaine</i>)</td>
									<td>Renvoie la longueur de la chaine</td>
								</tr>
								<tr>
									<td class="script">SUBSTR(<i>chaine</i>, <i>debut</i>[, <i>longueur</i>])</td>
									<td>Renvoie la position (en commençant à une certaine position et allant jusqu'à la longueur fixée ou à la fin)</td>
								</tr>
								<tr>
									<td class="script">UPPER(<i>chaine</i>)</td>
									<td>Convertit en majuscule</td>
								</tr>
								<tr>
									<td class="script">LOWER(<i>chaine</i>)</td>
									<td>Convertit en minuscule</td>
								</tr>
								<tr>
									<td class="script">INITCAP(<i>chaine</i>)</td>
									<td>Met en majuscule la première lettre et en minuscule les autres</td>
								</tr>
								<tr>
									<td class="script">TRANSLATE(<i>chaine</i>, <i>c1</i>, <i>c2</i>)</td>
									<td>Remplace chaque caractère <i>c1</i> par <i>c2</i> dans la chaîne</td>
								</tr>
								<tr>
									<td class="script">REPLACE(<i>chaine</i>, <i>ch1</i>, <i>ch2</i>)</td>
									<td>Remplace chaque chaine <i>ch1</i> par <i>ch2</i> dans la chaîne</td>
								</tr>
								<!--
								<tr>
									<td class="script"></td>
									<td></td>
								</tr>
								-->
							</table>
						</div>
						<h3>3. Les fonctions pour les dates</h3>
						<div class="tab">
							<h4>A. Les masques</h4>
							<div class="tab">
								<table>
									<tr>
										<th>Masque</th>
										<th>Description</th>
									</tr>
									<tr>
										<td class="script">'CC'</td>
										<td>Siècle (ex : 21)</td>
									</tr>
									<tr>
										<td class="script">'YYYY'</td>
										<td>Année (ex : 2024)</td>
									</tr>
									<tr>
										<td class="script">'Q'</td>
										<td>Numéro du trimestre dans l’année (ex : 3)</td>
									</tr>
									<tr>
										<td class="script">'WW'</td>
										<td>Numéro de la semaine dans l’année</td>
									</tr>
									<tr>
										<td class="script">'MM'</td>
										<td>Numéro du mois (ex : 05)</td>
									</tr>
									<tr>
										<td class="script">'DDD'</td>
										<td>Numéro du jour dans l’année (185)</td>
									</tr>
									<tr>
										<td class="script">'DD'</td>
										<td>Numéro du jour dans le mois (ex : 27)</td>
									</tr>
									<tr>
										<td class="script">'D'</td>
										<td>Numéro du jour dans la semaine (ex : 5)</td>
									</tr>
									<tr>
										<td class="script">'HH' ou 'HH12'</td>
										<td>Heure sur 12 heures (ex : 08)</td>
									</tr>
									<tr>
										<td class="script">'HH24'</td>
										<td>Heure sur 12 heures (ex : 20)</td>
									</tr>
									<tr>
										<td class="script">'MI'</td>
										<td>Minutes (ex : 05)</td>
									</tr>
									<tr>
										<td class="script">'S'</td>
										<td>Secondes (ex : 30)</td>
									</tr>
									<tr>
										<td class="script">'YEAR'</td>
										<td>Année en lettres</td>
									</tr>
									<tr>
										<td class="script">'MONTH'</td>
										<td>Mois en lettres</td>
									</tr>
									<tr>
										<td class="script">'MON'</td>
										<td>Mois abrégé</td>
									</tr>
									<tr>
										<td class="script">'DAY'</td>
										<td>Jour en lettres</td>
									</tr>
									<tr>
										<td class="script">'DY'</td>
										<td>Jour abrégé</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
									</tr>
									-->
								</table>
							</div>
							<h4>B. Les fonctions</h4>
							<div class="tab">
								<table>
									<tr>
										<th>Fonction</th>
										<th>Utilité</th>
									</tr>
									<tr>
										<td class="script">SYSDATE</td>
										<td>Renvoie la date actuelle</td>
									</tr>
									<tr>
										<td class="script">ADD_MONTHS(<i>date</i>, <i>nombre</i>)</td>
										<td>Ajoute ou soustrait un certain nombre de mois</td>
									</tr>
									<tr>
										<td class="script">LAST_DAY(<i>date</i>)</td>
										<td>Expression de type date qui a pour valeur la date du dernier jour du mois contenant la date</td>
									</tr>
									<tr>
										<td class="script">NEXT_DAY(<i>date</i>, <i>jour</i>)</td>
										<td>Expression de type date qui a pour valeur la date du prochain jour de la semaine spécifié dans le jour</td>
									</tr>
									<tr>
										<td class="script">ROUND(<i>date</i>, <i>masque</i>)</td>
										<td>Arrondit la date à la précision spécifiée</td>
									</tr>
									<tr>
										<td class="script">TRUNC(<i>date</i>, <i>masque</i>)</td>
										<td>Tronque la date à la précision spécifiée</td>
									</tr>
									<tr>
										<td class="script">EXTRACT(YEAR | MONTH | DAY FROM <i>date</i>)</td>
										<td>Extrait le jour, le mois ou l’année à partir d’une date</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
									</tr>
									-->
								</table>
							</div>
						</div>
						<h3>4. Les fonctions de conversion</h3>
						<div class="tab">
							<table>
								<tr>
									<th>Fonction</th>
									<th>Utilité</th>
								</tr>
								<tr>
									<td class="script">TO_DATE(chaine, masque)</td>
									<td>Convertit une chaîne de caractères en dates (ex : <span class="script">TO_DATE('10/12/2024', 'DD/MM/YYYY')</span></td>
								</tr>
								<tr>
									<td class="script">TO_CHAR(date, masque)</td>
									<td>Convertit une partie de la date indiquée par le masque en chaîne de caractères</td>
								</tr>
							</table>
						</div>
						<h3>5. Autres fonctions</h3>
						<div class="tab">
							<table>
								<tr>
									<th>Fonction</th>
									<th>Utilité</th>
								</tr>
								<tr>
									<td class="script">CHR(<i>n</i>)</td>
									<td>Retourne le caractère dont le code (ASCII ou EBCDIC) est égal à l’expression numérique entré en paramètre</td>
								</tr>
								<tr>
									<td class="script">GREATEST(<i>exp1</i>, <i>exp2</i>…)</td>
									<td>Retourne la plus grande des valeurs des expressions arguments</td>
								</tr>
								<tr>
									<td class="script">LEAST(<i>exp1</i>, <i>exp2</i>…)</td>
									<td>Retourne la plus petite des valeurs des expressions arguments</td>
								</tr>
								<tr>
									<td class="script">COALESCE(<i>exp1</i>, <i>exp2</i>…)</td>
									<td>Retourne la première valeur différente de NULL des expressions arguments, s’il y en a une, et la valeur NULL s’il n’y en a pas</td>
								</tr>
							</table>
						</div>
						<h3>6. Fonctions d'agrégat (pour des sélections)</h3>
						<div class="tab">
							<table>
								<tr>
									<th>Fonction</th>
									<th>Utilité</th>
								</tr>
								<tr>
									<td class="script">AVG(<i>expression</i>)</td>
									<td>Moyenne des valeurs d’une colonne</td>
								</tr>
								<tr>
									<td class="script">SUM(<i>expression</i>)</td>
									<td>Somme des valeurs d’une colonne</td>
								</tr>
								<tr>
									<td class="script">MIN(<i>expression</i>)</td>
									<td>La plus petite des valeurs d’une colonne</td>
								</tr>
								<tr>
									<td class="script">VARIANCE(<i>expression</i>)</td>
									<td>La plus grande des valeurs d’une colonne</td>
								</tr>
								<tr>
									<td class="script">STDDEV(<i>expression</i>)</td>
									<td>Écart-type ou déviation standard</td>
								</tr>
								<tr>
									<td class="script">COUNT(*)</td>
									<td>Nombre de lignes</td>
								</tr>
								<tr>
									<td class="script">COUNT(<i>expression</i>)</td>
									<td>Nombre de lignes ayant pour valeur non nulle pour une expression</td>
								</tr>
								<tr>
									<td class="script">COUNT(DISTINCT <i>expression</i>)</td>
									<td>Nombre de lignes ayant des valeurs distinctes non nulles pour une expression</td>
								</tr>
							</table>
						</div>
						<!--
						<h3></h3>
						<div class="tab">
							<table>
								<tr>
									<th>Fonction</th>
									<th>Utilité</th>
								</tr>
								
								<tr>
									<td class="script"></td>
									<td></td>
								</tr>
								
							</table>
						</div>
						-->
					</div>
					<h2>VII. PL/SQL (sur Oracle uniquement)</h2>
					<div class="tab">
						<h3>1. Structure</h3>
						<div class="tab">
							<p class="script">
								DECLARE<br/>
								<a class="script_tabulation"></a><i>declarations</i>;<br/>
								BEGIN<br/>
								<a class="script_tabulation"></a><i>instructions</i>;<br/>
								EXCEPTION<br/>
								<a class="script_tabulation"></a><i>gestion_des_erreurs</i>;<br/>
								END;
							</p>
							<p>Note : Le bloc DECLARE peut être retiré si aucune déclaration n’a été faite. Le bloc EXCEPTION permet de gérer les erreurs du programme, il n’est donc pas obligatoire. Il est possible de faire plusieurs blocs imbriqués.</p>
						</div>
						<h3>2. Déclarations (dans le bloc DECLARE)</h3>
						<div class="tab">
							<h4>A. Variables de types simples</h4>
							<div class="tab">
								<p class="script">
									<i>v_variable1</i> <i>type1</i> := <i>valeur</i>;<br/>
									<i>v_variable2</i> <i>type2</i>;<br/>
									<i>v_variable3</i> <i>type3</i>;
								</p>
							</div>
							<h4>B. Variables constantes</h4>
							<div class="tab">
								<p class="script"><i>v_variable1</i> CONSTANT <i>type1</i> := <i>valeur</i>;<br/></p>
							</div>
							<h4>C. Variables de types d’une colonne</h4>
							<div class="tab">
								<p class="script"><i>v_variable1</i> <i>table1</i>.<i>attribut1</i>%TYPE;<br/></p>
							</div>
							<h4>D. Variables de types d’une ligne entière d’une table</h4>
							<div class="tab">
								<p class="script"><i>v_variable1</i> <i>table1</i>%ROWTYPE;<br/></p>
							</div>
							<h4>E. Curseurs explicites</h4>
							<div class="tab">
								<h5>a. Curseur sans paramètres (<i>c_curseur</i>)</h5>
								<div class="tab">
									<p class="script">CURSOR <i>c_curseur</i> IS (SELECT * FROM <i>table1</i> WHERE <i>condition</i> [ORDER BY <i>attribut1</i> [DESC]]);</p>
								</div>
								<h5>b. Curseur avec paramètres (<i>c_curseur</i>(<i>parametres</i>))</h5>
								<div class="tab">
									<p class="script">CURSOR <i>c_curseur</i>(<i>v_attribut1</i> <i>typeSansParentheses</i>) IS (SELECT * FROM <i>table1</i> WHERE <i>attribut1</i> = <i>v_attribut1</i> [ORDER BY <i>attribut1</i> [DESC]]);</p>
								</div>
								<h5>c. Curseurs avec verrouillage des données (pour une mise à jour de la table notamment)</h5>
								<div class="tab">
									<p class="script">CURSOR <i>c_curseur</i> IS (SELECT * FROM <i>table1</i> WHERE <i>condition</i> [ORDER BY <i>attribut1</i> [DESC]]) FOR UPDATE;</p>
									<p>Note : Pour désigner l’élément sélectionné par le curseur dans une condition, entrez : <span class="script">CURRENT OF <i>c_curseur</i></span></p>
								</div>
							</div>
							<h4>F. Exceptions</h4>
							<div class="tab">
								<h5>a. Exception simple</h5>
								<div class="tab">
									<p class="script"><i>NOM_EXCEPTION_PERSONNALISEE</i> EXCEPTION;</p>
								</div>
								<h5>b. Exception créée à l’aide d’un numéro d’exception</h5>
								<div class="tab">
									<p class ="script">
										<i>NOM_EXCEPTION_PERSONNALISEE</i> EXCEPTION;<br/>
										PRAGMA EXCEPTION_INIT(<i>NOM_EXCEPTION_PERSONNALISEE</i>, <i>numero_exception</i>);
									</p>
									<p>Exemple :</p>
									<p class ="script">
										VIOLATION_CONTRAINTE_CHECK EXCEPTION;<br/>
										PRAGMA EXCEPTION_INIT(VIOLATION_CONTRAINTE_CHECK, -2290);
									</p>
								</div>
							</div>
						</div>
						<h3>3. Opération d’affectation</h3>
						<div class="tab">
							<h4>A. Affectation simple</h4>
							<div class="tab">
								<p class="script"><i>v_variable</i> := <i>valeur</i>;</p>
							</div>
							<h4>B. Affectation avec une requête de sélection (ne fonctionne que si la sélection ne renvoie qu’une seule valeur)</h4>
							<div class="tab">
								<p class="script">SELECT <i>attribut1</i> INTO <i>v_variable</i> FROM <i>table1</i> WHERE <i>condition</i>;</p>
							</div>
						</div>
						<h3>4. Conditions</h3>
						<div class="tab">
							<table>
								<tr>
									<th>Instruction</th>
									<th>Description</th>
								</tr>
								<tr>
									<td class="script">
									IF <i>condition1</i> THEN<br/>
										<a class="script_tabulation"></a><i>instruction1</i>;<br/>
									END IF;
									</td>
									<td>Si <i>condition1</i> est vraie, alors on exécute <i>instruction1</i></td>
								</tr>
								<tr>
									<td class="script">
									IF <i>condition1</i> THEN<br/>
										<a class="script_tabulation"></a><i>instruction1</i>;<br/>
									ELSE<br/>
										<a class="script_tabulation"></a><i>instruction2</i>;<br/>
									END IF;
									</td>
									<td>Si <i>condition1</i> est vraie, alors on exécute <i>instruction1</i>, sinon, on exécute <i>instruction2</i></td>
								</tr>
								<tr>
									<td class="script">
									IF <i>condition1</i> THEN<br/>
										<a class="script_tabulation"></a><i>instruction1</i>;<br/>
									}<br/>
									ELSIF <i>condition2</i> THEN<br/>
										<a class="script_tabulation"></a><i>instruction2</i>;<br/>
									ELSE<br/>
										<a class="script_tabulation"></a><i>instruction3</i>;<br/>
									END IF;
									</td>
									<td>Si <i>condition1</i> est vraie, alors on exécute <i>instruction1</i>, sinon, si <i>condition2</i> est vraie, on exécute <i>instruction2</i>, sinon, on exécute <i>instruction3</i></td>
								</tr>
								<tr>
									<td class="script"></td>
									<td></td>
								</tr>
								<tr>
									<td class="script"></td>
									<td></td>
								</tr>
							</table>
						</div>
						<h3>5. Boucles</h3>
						<div class="tab">
							<table>
								<tr>
									<th>Instruction</th>
									<th>Description</th>
								</tr>
								<tr>
									<td class="script">
									FOR <i>i</i> IN 0..<i>n</i> LOOP<br/>
									<a class="script_tabulation"></a><i>instruction1</i>;<br/>
									END LOOP;
									</td>
									<td>On répète <i>n</i> fois <i>instruction1</i> pour <i>i</i> allant de 0 à <i>n</i> compris (pas besoin de déclarer la variable, elle est déclarée implicitement et est détruite à la fin de la boucle)</td>
								</tr>
								<tr>
									<td class="script">
									FOR <i>elt</i> IN (SELECT * FROM <i>table1</i>) LOOP<br/>
									<a class="script_tabulation"></a><i>instruction1</i>;<br/>
									END LOOP;
									</td>
									<td>On parcours la requête de sélection (ou une chaine de caractère) pour <i>elt</i> prenant tous les enregistrements de la requête (pas besoin de déclarer la variable, elle est déclarée implicitement et est détruite à la fin de la boucle)</td>
								</tr>
								<tr>
									<td class="script">
									WHILE <i>condition</i> LOOP<br/>
									<a class="script_tabulation"></a><i>instruction1</i>;<br/>
									END LOOP;
									</td>
									<td>On répète jusqu’à ce que <i>condition</i> soit fausse (peut ne pas être répété)</td>
								</tr>
								<tr>
									<td class="script">
									LOOP<br/>
									<a class="script_tabulation"></a><i>instruction1</i>;<br/>
									<a class="script_tabulation"></a>EXIT WHEN <i>condition</i>;<br/>
									<a class="script_tabulation"></a><i>instruction2</i>;<br/>
									END LOOP;
									</td>
									<td>On répète jusqu’à ce que <i>condition</i> soit fausse (<i>instruction1</i> est forcément répété une fois)</td>
								</tr>
								<tr>
									<td class="script">EXIT;</td>
									<td>Permet de sortir d’une boucle sans la terminer</td>
								</tr>
							</table>
						</div>
						<h3>6. Les curseurs implicites et explicites</h3>
						<div class="tab">
							<h4>A. Les curseurs implicites</h4>
							<div class="tab">
								<table>
									<tr>
										<th>Curseur</th>
										<th>Utilité</th>
									</tr>
									<tr>
										<td class="script">SQL%ROWCOUNT</td>
										<td>Nombre de lignes traitées par la requête précédentes de mise à jour de la table</td>
									</tr>
									<tr>
										<td class="script"><i>c_curseur</i>%NOTFOUND</td>
										<td>Vérifier que le curseur est vide ou la dernière ligne est déjà atteinte</td>
									</tr>
									<tr>
										<td class="script"><i>c_curseur</i>%FOUND</td>
										<td>Vérifier que le curseur n’est pas vide ou la dernière ligne n’est pas encore atteinte</td>
									</tr>
									<tr>
										<td class="script"><i>c_curseur</i>%ISOPEN</td>
										<td>Vérifier que le curseur est ouvert</td>
									</tr>
								</table>
							</div>
							<h4>B. Les curseurs explicites</h4>
							<div class="tab">
								<p class="script">
									OPEN <i>c_curseur</i>;<br/>
									LOOP<br/>
									<a class="script_tabulation"></a>FETCH <i>c_curseur</i> INTO <i>v_variable</i>;<br/>
									<a class="script_tabulation"></a>EXIT WHEN <i>c_curseur</i>%NOTFOUND;<br/>
									<a class="script_tabulation"></a><i>instructions</i>;<br/>
									END LOOP;<br/>
									CLOSE <i>c_curseur</i>;
								</p>
								<p>ou</p>
								<p class="script">
									FOR <i>v_variable</i> IN <i>c_curseur</i> LOOP<br/>
									<a class="script_tabulation"></a><i>instructions</i>;<br/>
									END LOOP;
								</p>
							</div>
						</div>
						<h3>7. Les procédures</h3>
						<div class="tab">
							<h4>A. Créer une procédure</h4>
							<div class="tab">
								<p class="script">
									CREATE OR REPLACE PROCEDURE <i>myprocedure</i> [(<i>parametreEntree1</i> IN <i>type</i>…, <i>parametreSortie1</i> OUT <i>type</i>…)]<br/>
									IS<br/>
									<a class="script_tabulation"></a>[<i>déclarations</i>]<br/>
									BEGIN<br/>
									<a class="script_tabulation"></a><i>instructions</i>;<br/>
									EXCEPTION<br/>
									<a class="script_tabulation"></a><i>gestion_des_erreurs</i>;<br/>
									END;
								</p>
								<p>Note : Les paramètres d’entrée et de sortie ne sont pas obligatoires. Une variable en paramètre peut être à la fois une entrée et une sortie (avec IN OUT). La gestion des exceptions n’est pas obligatoire.</p>
							</div>
							<h4>B. Retourner une valeur de la procédure</h4>
							<div class="tab">
								<p class="script"><i>parametreSortie1</i> := <i>valeur</i>;</p>
							</div>
							<h4>C. Faire un appel à la procédure</h4>
							<div class="tab">
								<p class="script"><i>myprocedure</i>[(<i>variable1</i>, <i>variable2</i>)];</p>
								<p>ou en dehors d'un bloc :</p>
								<p class="script">EXECUTE <i>myprocedure</i>[(<i>variable1</i>, <i>variable2</i>)];</p>
							</div>
							<h4>D. Supprimer une procédure</h4>
							<div class="tab">
								<p class="script">DROP PROCEDURE <i>myprocedure</i>;</p>
							</div>
						</div>
						<h3>8. Les fonctions</h3>
						<div class="tab">
							<h4>A. Créer une fonction</h4>
							<div class="tab">
								<p class="script">
									CREATE OR REPLACE FUNCTION <i>myfontion</i> [(<i>parametre1</i> <i>type</i>…, <i>parametre2</i> <i>type</i>…)]<br/>
									RETURN <i>type</i><br/>
									IS<br/>
									<a class="script_tabulation"></a>[<i>déclarations</i>]<br/>
									BEGIN<br/>
									<a class="script_tabulation"></a><i>instructions</i>;<br/>
									EXCEPTION<br/>
									<a class="script_tabulation"></a><i>gestion_des_erreurs</i>;<br/>
									END;
								</p>
								<p></p>
							</div>
							<h4>B. Retourner une valeur de la fonction</h4>
							<div class="tab">
								<p class="script">RETURN <i>variable</i>;</p>
							</div>
							<h4>C. Faire un appel à la fonction</h4>
							<div class="tab">
								<p class="script"><i>variable</i> := <i>myfonction</i>[(<i>variable1</i>, <i>variable2</i>)];</p>
								<p>ou en dehors d'un bloc :</p>
								<p class="script">SELECT <i>myfonction</i>[(<i>variable1</i>, <i>variable2</i>)] FROM dual;</p>
							</div>
							<h4>D. Supprimer une fonction</h4>
							<div class="tab">
								<p class="script">DROP FUNCTION <i>myfonction</i>;</p>
							</div>
						</div>
						<h3>9. Les vues</h3>
						<div class="tab">
							<h4>A. Créer une vue</h4>
							<div class="tab">
								<p class="script">
									CREATE OR REPLACE VIEW <i>myvue</i><br/>
									AS <i>requete</i>;
								</p>
								<p>Note : Il est possible de modifier une vue avec des requêtes de mises à jour de la table.</p>
							</div>
							<h4>B. Faire un appel à la vue</h4>
							<div class="tab">
								<p class="script">SELECT * FROM <i>myvue</i>;</p>
							</div>
							<h4>C. Supprimer une vue</h4>
							<div class="tab">
								<p class="script">DROP VIEW <i>myvue</i>;</p>
							</div>
						</div>
						<h3>10. Les CTE (Common Table Expression)</h3>
						<div class="tab">
							<p>Les CTE sont des vues provisoires, la syntaxe est la suivante :</p>
							<p class="script">
								WITH<br/>
								<i>myCTE1</i> AS (<i>requete1</i>),<br/>
								<i>myCTE2</i> AS (<i>requete2</i>)…<br/>
								<i>requete</i>;
							</p>
						</div>
						<h3>11. Les exceptions (dans le bloc EXCEPTION)</h3>
						<div class="tab">
							<h4>A. Exception prédéfinies</h4>
							<div class="tab">
								<table>
									<tr>
										<th>Nom exception</th>
										<th>Erreur Oracle</th>
										<th>Numéro exception</th>
									</tr>
									<tr>
										<td class="script">(Violation de contrainte unique)</td>
										<td>ORA-00001</td>
										<td>-803</td>
									</tr>
									<tr>
										<td class="script">(Violation de contrainte not null)</td>
										<td>ORA-01400</td>
										<td>-407</td>
									</tr>
									<tr>
										<td class="script">NO_DATA_FOUND</td>
										<td>ORA-01403</td>
										<td>100</td>
									</tr>
									<tr>
										<td class="script">TOO_MANY_ROWS</td>
										<td>ORA-01422</td>
										<td>-1422</td>
									</tr>
									<tr>
										<td class="script">ZERO_DIVIDE</td>
										<td>ORA-01476</td>
										<td>-1476</td>
									</tr>
									<tr>
										<td class="script">(Violation de contrainte check)</td>
										<td>ORA-02290</td>
										<td>-2290</td>
									</tr>
									<tr>
										<td class="script">STORAGE_ERROR</td>
										<td>ORA-06500</td>
										<td>-6500</td>
									</tr>
									<tr>
										<td class="script">VALUE_ERROR</td>
										<td>ORA-06502</td>
										<td>-6502</td>
									</tr>
									<tr>
										<td class="script">CURSOR_ALREADY_OPEN</td>
										<td>ORA-06511</td>
										<td>-6511</td>
									</tr>
									<tr>
										<td class="script">COLLECTION_IS_NULL</td>
										<td>ORA-06531</td>
										<td>-6531</td>
									</tr>
									<tr>
										<td class="script">(Type de donnée invalide)</td>
										<td>ORA-00902</td>
										<td>-104 ou -199</td>
									</tr>
									<tr>
										<td class="script">OTHER (Autres erreurs)</td>
										<td>ORA-42612</td>
										<td>-84</td>
									</tr>
									<!--
									<tr>
										<td class="script"></td>
										<td></td>
										<td></td>
									</tr>
									-->
								</table>
							</div>
							<h4>B. Provoquer une erreur personnalisée</h4>
							<div class="tab">
								<p class="script">RAISE <i>NOM_EXCEPTION_PERSONNALISEE</i>;</p>
							</div>
							<h4>C. Gestion des erreurs (dans le bloc EXCEPTION)</h4>
							<div class="tab">
								<p class="script">
									WHEN <i>NOM_EXCEPTION1</i> THEN<br/>
									<a class="script_tabulation"></a><i>instructions1</i>;<br/>
									WHEN <i>NOM_EXCEPTION2</i> THEN<br/>
									<a class="script_tabulation"></a><i>instructions2</i>;
								</p>
							</div>
						</div>
						<h3>12. Les instructions de base</h3>
						<div class="tab">
							<table>
								<tr>
									<th>Instruction</th>
									<th>Description</th>
								</tr>
								<tr>
									<td class="script">SET SERVEROUTPUT ON;</td>
									<td>Activer les commandes d’affichage de messages dans la conole (à exécuter 1 fois par fichier au démarrage de SQL Developper)</td>
								</tr>
								<tr>
									<td class="script">DBMS_OUTPUT.PUT_LINE('<i>texte</i>');</td>
									<td>Affiche un texte dans la console avec un retour à la ligne</td>
								</tr>
								<!--
								<tr>
									<td class="script"></td>
									<td></td>
								</tr>
								-->
							</table>
						</div>
					</div>
				</div>
			<br/>
			</section>
		</article>				
		<footer>
			<p>Copyright ©2024 Loric AUDIN - Tous droits réservés</p>
			<p>Créé le 15/04/2022, modifié le 10/08/2023</p>
		</footer>
	</body>
	<script src="script.js"></script>
</html>