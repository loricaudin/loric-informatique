<!DOCTYPE html> <!-- Loric Informatique (page générée automatiquement à partir d'un document Word (version du modèle : 1.0)) -->
<html lang="fr-FR">
	<head>
		<title>Loric Informatique - Oracle Database (SQL)</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="robots" content="noindex, nofollow">
		<link rel="icon" href="../../images/icone.png">
		<link rel="stylesheet" href ="../../styles/style.css">
	</head>
	<body>
		<header>
			<script src="../../scripts/header.js"></script>
		</header>
		<main class="pageMemento">
			<section class="presentation">
				<div class="alignementVertical">
					<div>
						<h1>Mémento Oracle Database (SQL)</h1>
						<p class="version">Version 2.2 (créé le 10/08/2023, modifié le 30/09/2025)</p>
						<p><p class="zone-texte">SQL (Structured Query Language) est un langage servant à exploiter des bases de données relationnelles.<br/>Oracle Database est souvent utilisé pour les bases de données de sites web qui utilisent le langage PHP.<br/>Toutes les options facultatives sont représentées par des [ ].</p></p>
						<a href="Loric Informatique - Oracle Database (SQL).pdf"><button onclick="window.location.href = ''" class="telecharger">Télécharger</button></a>
						<a><button onclick="alert('Pour imprimer votre document, nous vous conseillons de choisir le format A4, de cocher Imprimer les arrière-plans et de décocher Imprimer les en-têtes et pieds de page.');print()" class="imprimer">Imprimer</button></a>
					</div>
					<img src="icone_oracledatabase.png" class="logoMemento"/>
				</div>
			</section>
			<section class="sommaire">
				<h2>Table des matières :</h2>
				<div class="tableDesMatieres">
					<!-- Table des matières remplie par le JavaScript -->
				</div>
			</section>
			<article>
				<h1 class="heading 1" id="1">Prise en main</h1><h2 class="heading 2" id="1.1">Outils nécessaires</h2><ul><li class="list paragraph"><a href="https://www.oracle.com/database/sqldeveloper/" target="_blank">SQL Developer</a> (contenant Oracle si vous avez un serveur simple hébergé)</li></ul><h1 class="heading 1" id="2">Bases</h1><h2 class="heading 2" id="2.1">Syntaxe</h2><p><span style="font-family:Consolas;"><i>requête</i></span><span style="font-family:Consolas;"><i>1;</i></span><span style="font-family:Consolas;"><br/><i>
requête2;</i></span><span style="font-family:Consolas;"><br/><i>
requête3;</i></span></p><h2 class="heading 2" id="2.2">Les variables</h2><h3 class="heading 3" id="2.2.1">Types de variables</h3><h4 class="heading 4" id="2.2.1.1">Numériques</h4><table><tr><td><p><span><b>Type</b></span></p></td><td><p><span><b>Limites</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">NUMBER</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>X</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Longueur inférieure ou égale à <span><i>X</i></span> chiffres (maximum : 255)</p></td><td><p>Nombre entier</p></td></tr><tr><td><p><span style="font-family:Consolas;">NUMBER</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>X</i></span><span style="font-family:Consolas;">,</span><span style="font-family:Consolas;"><i> Y</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Longueur inférieure ou égale à <span><i>X</i></span> chiffres dans la partie entière et inférieure ou égale à <span><i>Y</i></span> chiffres après la virgule (maximum : 255)</p></td><td><p>Nombre décimal</p></td></tr></table><h4 class="heading 4" id="2.2.1.2">Caractères</h4><table><tr><td><p><span><b>Type</b></span></p></td><td><p><span><b>Limites</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">CHAR(</span><span style="font-family:Consolas;"><i>X</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Longueur fixée à <span><i>X</i></span> caractères (maximum : 255)</p></td><td><p>Chaîne de caractères entre ' '</p></td></tr><tr><td><p><span style="font-family:Consolas;">VARCHAR</span><span style="font-family:Consolas;">2</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>X</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Longueur inférieure ou égale à <span><i>X</i></span> caractères (maximum : 255)</p></td><td><p>Chaîne de caractères entre ' '</p></td></tr></table><h4 class="heading 4" id="2.2.1.3">Dates et heures</h4><table><tr><td><p><span><b>Type</b></span></p></td><td><p><span><b>Format</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">DATE</span></p></td><td><p><span style="font-family:Consolas;">DD/MM/YYYY</span></p></td><td><p>Date entre ' '</p></td></tr></table><h4 class="heading 4" id="2.2.1.4">Autres types</h4><table><tr><td><p><span><b>Type</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">BOOLEAN</span></p></td><td><p>Valeur pouvant être TRUE ou FALSE</p></td></tr></table><h2 class="heading 2" id="2.3">Commentaires</h2><p><span style="font-family:Consolas;">--</span><span style="font-family:Consolas;">Commentaire tenant sur une ligne</span></p><p><span style="font-family:Consolas;">/*</span><span style="font-family:Consolas;"><br/>
Commentaire pouvant être sur une ou plusieurs lignes</span><span style="font-family:Consolas;"><br/>
*/</span></p><h2 class="heading 2" id="2.4">Opérations mathématiques</h2><table><tr><td><p><span><b>Instruction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">1 + 2</span></p></td><td><p>Renvoie 3</p></td></tr><tr><td><p><span style="font-family:Consolas;">3 - 1</span></p></td><td><p>Renvoie 2</p></td></tr><tr><td><p><span style="font-family:Consolas;">6 * 4</span></p></td><td><p>Renvoie 24</p></td></tr><tr><td><p><span style="font-family:Consolas;">5.0 / 2.0</span></p></td><td><p>Renvoie 2.5</p></td></tr><tr><td><p><span style="font-family:Consolas;">5 / 2</span></p></td><td><p>Renvoie 2 (le quotient sans décimal)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'2' || '7'</span></p></td><td><p>Renvoie '27'</p></td></tr></table><h2 class="heading 2" id="2.5">Opérateurs de conditions</h2><table><tr><td><p><span><b>Condition</b></span></p></td><td><p><span><b>Description de ce que vérifie la condition</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> égal à <span><i>b</i></span> (seulement en contenu : 1='1')</p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> &lt; </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> strictement inférieur à <span><i>b</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> &gt; </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> strictement supérieur à <span><i>b</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> &lt;= </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> supérieur ou égal à <span><i>b</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> != </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> n’est pas égal à <span><i>b</i></span> (seulement en contenu : 1='1')</p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">&lt;&gt;</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> n’est pas égal à <span><i>b</i></span> (seulement en contenu : 1='1')</p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">= ALL</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> est égale à toutes les valeurs dans <span><i>b</i></span> (qui peut être une sous-requête ou une liste sous forme : <span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>val1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>val2</i></span><span style="font-family:Consolas;">…)</span>)</p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">= ANY</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> est égale à au moins une valeur dans <span><i>b</i></span> (qui peut être une sous-requête ou une liste sous forme : <span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>val1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>val2</i></span><span style="font-family:Consolas;">…)</span>)</p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">IN</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>b</i></span></p></td><td><p><span><i>a</i></span> est présent dans <span><i>b</i></span> (qui peut être une sous-requête ou une liste sous forme : <span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>val1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>val2</i></span><span style="font-family:Consolas;">…)</span>)</p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"><i> </i></span><span style="font-family:Consolas;">BETWEEN </span><span style="font-family:Consolas;"><i>b</i></span><span style="font-family:Consolas;"> AND </span><span style="font-family:Consolas;"><i>c</i></span></p></td><td><p><span><i>a</i></span><span><i> </i></span>est compris entre <span><i>b</i></span> et <span><i>c</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> LIKE '</span><span style="font-family:Consolas;"><i>SousChaine</i></span><span style="font-family:Consolas;">'</span></p></td><td><p><span><i>a</i></span><span><i> </i></span>contient la sous-chaîne (avec _ correspondant à 1 caractère et % correspondant à 0 ou plusieurs caractères)</p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">IS [NOT]</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">NULL</span></p></td><td><p>Tester si une variable est nulle</p></td></tr><tr><td><p><span style="font-family:Consolas;"><i>a</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">IS [NOT]</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">UNKNOWN</span></p></td><td><p>Tester si une variable est définie</p></td></tr><tr><td><p><span style="font-family:Consolas;">OR</span></p></td><td><p>À mettre entre deux conditions, permet d’avoir une des deux conditions qui doit être vraie</p></td></tr><tr><td><p><span style="font-family:Consolas;">AND</span></p></td><td><p>À mettre entre deux conditions, permet d’avoir deux conditions qui doivent être vraie</p></td></tr><tr><td><p><span style="font-family:Consolas;">NOT </span><span style="font-family:Consolas;"><i>condition</i></span></p></td><td><p>Ne doit pas respecter la condition</p></td></tr></table><h1 class="heading 1" id="3">Les fonctions</h1><h2 class="heading 2" id="3.1">Les fonctions arithmétiques</h2><table><tr><td><p><span><b>Fonction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">ROUND(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>d</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Arrondit <span><i>n</i></span> au réel à <span><i>d</i></span> chiffres après la virgule ou à l’entier si <span><i>d</i></span> n’est pas renseigné</p></td></tr><tr><td><p><span style="font-family:Consolas;">TRUNC(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>d</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Tronque <span><i>n</i></span> à <span><i>d</i></span> chiffres après la virgule ou à 0 si <span><i>d</i></span> n’est pas renseigné</p></td></tr><tr><td><p><span style="font-family:Consolas;">POWER(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Renvoie <span><i>n</i></span> à la puissance <span><i>m</i></span> (si <span><i>n</i></span> est négatif, <span><i>m</i></span> doit être un entier)</p></td></tr><tr><td><p><span style="font-family:Consolas;">CEIL(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Renvoie un entier directement supérieur ou égal à <span><i>n</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">FLOOR(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Renvoie un entier directement supérieur ou égal à <span><i>n</i></span> (partie entière de <span><i>n</i></span>)</p></td></tr><tr><td><p><span style="font-family:Consolas;">ABS(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Renvoie la valeur absolue de <span><i>n</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">MOD(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Renvoie le reste de la division de <span><i>n</i></span> par <span><i>m</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">SQRT(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Renvoie la racine carrée</p></td></tr><tr><td><p><span style="font-family:Consolas;">SIGN(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Renvoie -1 si <span><i>n</i></span> est négatif, 1 si <span><i>n</i></span> est positif et 0 si <span><i>n</i></span> égal à 0</p></td></tr></table><h2 class="heading 2" id="3.2">Les fonctions pour les chaînes de caractères</h2><table><tr><td><p><span><b>Fonction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">LENGTH(</span><span style="font-family:Consolas;"><i>chaine</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Renvoie la longueur de la chaine</p></td></tr><tr><td><p><span style="font-family:Consolas;">SUBSTR(</span><span style="font-family:Consolas;"><i>chaine</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>debut</i></span><span style="font-family:Consolas;">[, </span><span style="font-family:Consolas;"><i>longueur</i></span><span style="font-family:Consolas;">])</span></p></td><td><p>Renvoie la position (en commençant à une certaine position et allant jusqu'à la longueur fixée ou à la fin)</p></td></tr><tr><td><p><span style="font-family:Consolas;">UPPER(</span><span style="font-family:Consolas;"><i>chaine</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Convertit en majuscule</p></td></tr><tr><td><p><span style="font-family:Consolas;">LOWER(</span><span style="font-family:Consolas;"><i>chaine</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Convertit en minuscule</p></td></tr><tr><td><p><span style="font-family:Consolas;">INITCAP(</span><span style="font-family:Consolas;"><i>chaine</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Met en majuscule la première lettre et en minuscule les autres</p></td></tr><tr><td><p><span style="font-family:Consolas;">TRANSLATE(</span><span style="font-family:Consolas;"><i>chaine</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>c1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>c2</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Remplace chaque caractère <span><i>c1</i></span> par <span><i>c2</i></span> dans la chaîne</p></td></tr><tr><td><p><span style="font-family:Consolas;">REPLACE(</span><span style="font-family:Consolas;"><i>chaine</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>ch1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>ch2</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Remplace chaque chaine <span><i>ch1</i></span> par <span><i>ch2</i></span> dans la chaîne</p></td></tr></table><h2 class="heading 2" id="3.3">Les fonctions pour les dates</h2><h3 class="heading 3" id="3.3.1">Les masques pour les dates</h3><table><tr><td><p><span><b>Masque</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">'CC'</span></p></td><td><p>Siècle (ex : 21)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'YYYY'</span></p></td><td><p>Année (ex : 2024)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'Q'</span></p></td><td><p>Numéro du trimestre dans l’année (ex : 3)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'WW'</span></p></td><td><p>Numéro de la semaine dans l’année</p></td></tr><tr><td><p><span style="font-family:Consolas;">'MM'</span></p></td><td><p>Numéro du mois (ex : 05)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'DDD'</span></p></td><td><p>Numéro du jour dans l’année (ex : 185)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'DD'</span></p></td><td><p>Numéro du jour dans le mois (ex : 08)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'D'</span></p></td><td><p>Numéro du jour dans la semaine (ex : 5) avec dimanche égal à 0</p></td></tr><tr><td><p><span style="font-family:Consolas;">'HH' </span>ou<span style="font-family:Consolas;"> 'HH12'</span></p></td><td><p>Heure sur 12 heures (ex : 09)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'HH24'</span></p></td><td><p>Heure sur 24 heures (ex : 21)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'MI'</span></p></td><td><p>Minutes (ex : 05)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'S'</span></p></td><td><p>Secondes (ex : 30)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'YEAR'</span></p></td><td><p>Année en lettres</p></td></tr><tr><td><p><span style="font-family:Consolas;">'MONTH'</span></p></td><td><p>Mois en lettres</p></td></tr><tr><td><p><span style="font-family:Consolas;">'MON'</span></p></td><td><p>Mois abrégé (3 lettres)</p></td></tr><tr><td><p><span style="font-family:Consolas;">'DAY'</span></p></td><td><p>Jour en lettres</p></td></tr><tr><td><p><span style="font-family:Consolas;">'DY'</span></p></td><td><p>Jour abrégé (3 lettres)</p></td></tr></table><h3 class="heading 3" id="3.3.2">Les fonctions de manipulation des dates</h3><table><tr><td><p><span><b>Fonction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">SYSDATE</span><span style="font-family:Consolas;"> </span>ou<span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">CURRENT_DATE</span></p></td><td><p>Renvoie la date actuelle</p></td></tr><tr><td><p><span style="font-family:Consolas;">CURRENT_TIMESTAMP</span><span style="font-family:Consolas;"> </span>ou<span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">SYSTIMESTAMP</span></p></td><td><p>Renvoie la date et l'heure actuelle</p></td></tr><tr><td><p><span style="font-family:Consolas;">ADD_</span><span style="font-family:Consolas;">MONTHS(</span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>nombre</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Ajoute ou soustrait un certain nombre de mois</p></td></tr><tr><td><p><span style="font-family:Consolas;">LAST_</span><span style="font-family:Consolas;">DAY(</span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Expression de type date qui a pour valeur la date du dernier jour du mois contenant la date</p></td></tr><tr><td><p><span style="font-family:Consolas;">NEXT_</span><span style="font-family:Consolas;">DAY(</span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>jour</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Expression de type date qui a pour valeur la date du prochain jour de la semaine spécifié dans le jour</p></td></tr><tr><td><p><span style="font-family:Consolas;">ROUND(</span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>masque</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Arrondit la date à la précision spécifiée</p></td></tr><tr><td><p><span style="font-family:Consolas;">TRUNC(</span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>masque</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Tronque la date à la précision spécifiée</p></td></tr><tr><td><p><span style="font-family:Consolas;">EXTRACT(</span><span style="font-family:Consolas;">DAY FROM </span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Extrait le jour à partir d’une date</p></td></tr><tr><td><p><span style="font-family:Consolas;">EXTRACT(</span><span style="font-family:Consolas;">MONTH FROM </span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Extrait le mois à partir d’une date</p></td></tr><tr><td><p><span style="font-family:Consolas;">EXTRACT(</span><span style="font-family:Consolas;">YEAR FROM </span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Extrait l’année à partir d’une date</p></td></tr><tr><td><p><span style="font-family:Consolas;">TO_</span><span style="font-family:Consolas;">DATE(</span><span style="font-family:Consolas;"><i>chaine</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>masque</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Convertit une chaîne de caractères en date (ex : <span style="font-family:Consolas;">TO_</span><span style="font-family:Consolas;">DATE(</span><span style="font-family:Consolas;">'10/12/2024', 'DD/MM/YYYY'</span><span style="font-family:Consolas;">)</span>)</p></td></tr><tr><td><p><span style="font-family:Consolas;">TO_</span><span style="font-family:Consolas;">CHAR</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>date</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>masque</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Convertit une date en chaîne de caractères (ex : <span style="font-family:Consolas;">TO_</span><span style="font-family:Consolas;">CHAR</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;">SYSDATE</span><span style="font-family:Consolas;">, 'DD/MM/YYYY'</span><span style="font-family:Consolas;">)</span>)</p></td></tr></table><h2 class="heading 2" id="3.4">Autres fonctions</h2><table><tr><td><p><span><b>Fonction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">CHR(</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Retourne le caractère dont le code (ASCII ou EBCDIC) est égal à l’expression numérique entré en paramètre</p></td></tr><tr><td><p><span style="font-family:Consolas;">GREATEST(</span><span style="font-family:Consolas;"><i>exp1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>exp2</i></span><span style="font-family:Consolas;">…)</span></p></td><td><p>Retourne la plus grande des valeurs des expressions arguments</p></td></tr><tr><td><p><span style="font-family:Consolas;">LEAST(</span><span style="font-family:Consolas;"><i>exp1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>exp2</i></span><span style="font-family:Consolas;">…)</span></p></td><td><p>Retourne la plus petite des valeurs des expressions arguments</p></td></tr><tr><td><p><span style="font-family:Consolas;">COALESCE(</span><span style="font-family:Consolas;"><i>exp1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>exp2</i></span><span style="font-family:Consolas;">…)</span></p></td><td><p>Retourne la première valeur différente de NULL des expressions arguments, s’il y en a une, et la valeur NULL s’il n’y en a pas</p></td></tr></table><h2 class="heading 2" id="3.5">Les fonctions d'agrégat (pour des sélections uniquement, ne concernent pas les conditions)</h2><table><tr><td><p><span><b>Fonction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">AVG(</span><span style="font-family:Consolas;"><i>expression</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Moyenne des valeurs d’une colonne</p></td></tr><tr><td><p><span style="font-family:Consolas;">SUM(</span><span style="font-family:Consolas;"><i>expression</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Somme des valeurs d’une colonne</p></td></tr><tr><td><p><span style="font-family:Consolas;">MIN(</span><span style="font-family:Consolas;"><i>expression</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>La plus petite des valeurs d’une colonne</p></td></tr><tr><td><p><span style="font-family:Consolas;">VARIANCE(</span><span style="font-family:Consolas;"><i>expression</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>La plus grande des valeurs d’une colonne</p></td></tr><tr><td><p><span style="font-family:Consolas;">STDDEV(</span><span style="font-family:Consolas;"><i>expression</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Écart-type ou déviation standard</p></td></tr><tr><td><p><span style="font-family:Consolas;">COUNT(</span><span style="font-family:Consolas;">*)</span></p></td><td><p>Nombre de lignes</p></td></tr><tr><td><p><span style="font-family:Consolas;">COUNT(</span><span style="font-family:Consolas;"><i>expression</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Nombre de lignes ayant pour valeur non nulle</p></td></tr><tr><td><p><span style="font-family:Consolas;">COUNT(</span><span style="font-family:Consolas;">DISTINCT </span><span style="font-family:Consolas;"><i>expression</i></span><span style="font-family:Consolas;">)</span></p></td><td><p>Nombre de lignes ayant des valeurs distinctes non nulles</p></td></tr></table><h1 class="heading 1" id="4">Requêtes d’initialisation de la base de données</h1><h2 class="heading 2" id="4.1">Créer une table (tableau de valeurs)</h2><p><span style="font-family:Consolas;">CREATE TABLE [IF NOT EXISTS] </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> (</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type1</i></span><span style="font-family:Consolas;"> [[CONSTRAINT </span><span style="font-family:Consolas;"><i>nomContrainte1</i></span><span style="font-family:Consolas;">] </span><span style="font-family:Consolas;"><i>contrainte1</i></span><span style="font-family:Consolas;">] [GENERATED AS IDENTITY],</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type2</i></span><span style="font-family:Consolas;"> [[CONSTRAINT </span><span style="font-family:Consolas;"><i>nomContrainte2</i></span><span style="font-family:Consolas;">] </span><span style="font-family:Consolas;"><i>contrainte2</i></span><span style="font-family:Consolas;">],</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type3</i></span><span style="font-family:Consolas;"> [[CONSTRAINT </span><span style="font-family:Consolas;"><i>nomContrainte3</i></span><span style="font-family:Consolas;">] </span><span style="font-family:Consolas;"><i>contrainte3</i></span><span style="font-family:Consolas;">],</span><span style="font-family:Consolas;"><br/>
 </span><span style="font-family:Consolas;">   [</span><span style="font-family:Consolas;">CONSTRAINT </span><span style="font-family:Consolas;"><i>nomContrainte4</i></span><span style="font-family:Consolas;">] PRIMARY KEY (</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">),</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;[[CONSTRAINT </span><span style="font-family:Consolas;"><i>nomContrainte5</i></span><span style="font-family:Consolas;">] FOREIGN KEY (</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;">) REFERENCES </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">)]</span><span style="font-family:Consolas;"><br/>
); </span></p><p>ou</p><p><span style="font-family:Consolas;">CREATE TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> (</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type1</i></span><span style="font-family:Consolas;"> [CONSTRAINT </span><span style="font-family:Consolas;"><i>nomContrainte1</i></span><span style="font-family:Consolas;">] PRIMARY KEY [GENERATED AS IDENTITY],</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type2</i></span><span style="font-family:Consolas;"> [[CONSTRAINT </span><span style="font-family:Consolas;"><i>nomContrainte2</i></span><span style="font-family:Consolas;">] </span><span style="font-family:Consolas;"><i>contrainte2</i></span><span style="font-family:Consolas;">],</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type3</i></span><span style="font-family:Consolas;"> [[CONSTRAINT </span><span style="font-family:Consolas;"><i>nomContrainte3</i></span><span style="font-family:Consolas;">] REFERENCES </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">)]</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">);</span></p><p class="note"><span style="font-family:Consolas;">GENERATED AS IDENTITY</span> permet de créer automatiquement les valeurs des clés primaires si le type est un nombre entier.</p><p><br/></p><h2 class="heading 2" id="4.2">Les contraintes</h2><h3 class="heading 3" id="4.2.1">Liste des contraintes</h3><table><tr><td><p><span><b>Contrainte</b></span></p></td><td><p><span><b>Initiales nom contrainte</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">NOT NULL</span></p></td><td><p><span style="font-family:Consolas;"><i>nn</i></span><span style="font-family:Consolas;"><i>_nomContrainte</i></span></p></td><td><p>Permet de rendre obligatoire l’entrée d’une valeur dans un attribut</p></td></tr><tr><td><p><span style="font-family:Consolas;">CHECK(</span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">)</span></p></td><td><p><span style="font-family:Consolas;"><i>ck</i></span><span style="font-family:Consolas;"><i>_nomContrainte</i></span></p></td><td><p>Permet de vérifier la condition avant d'insérer un enregistrement</p></td></tr><tr><td><p><span style="font-family:Consolas;">UNIQUE</span></p></td><td><p><span style="font-family:Consolas;"><i>uq</i></span><span style="font-family:Consolas;"><i>_nomContrainte</i></span></p></td><td><p>Permet d'éviter l'insertion de plusieurs valeurs identiques</p></td></tr><tr><td><p><span style="font-family:Consolas;">DEFAULT </span><span style="font-family:Consolas;"><i>valeurParDefaut</i></span></p></td><td><p><span style="font-family:Consolas;"><i>df</i></span><span style="font-family:Consolas;"><i>_nomContrainte</i></span></p></td><td><p>Permet de remplacer une valeur non renseignée par une autre</p></td></tr><tr><td><p><span style="font-family:Consolas;">PRIMARY KEY (</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">)</span></p></td><td><p><span style="font-family:Consolas;"><i>pk</i></span><span style="font-family:Consolas;"><i>_nomContrainte</i></span></p></td><td><p>Permet de créer une clé primaire. Il s'agit généralement d'un identifiant, et sa valeur est unique</p></td></tr><tr><td><p><span style="font-family:Consolas;">FOREIGN KEY (</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;">) REFERENCES </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>attribut7</i></span><span style="font-family:Consolas;">)</span></p></td><td><p><span style="font-family:Consolas;"><i>fk</i></span><span style="font-family:Consolas;"><i>_nomContrainte</i></span></p></td><td><p>Permet de créer une clé étrangère en relation avec une autre table (déjà existante)</p></td></tr></table><h3 class="heading 3" id="4.2.2">Ajouter une contrainte</h3><p><span style="font-family:Consolas;">ALTER TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
ADD CONSTRAINT</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>nomContrainte1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>contrainte</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><p class="note">Il est fortement conseillé d'ajouter une contrainte en même temps que la création d'une table. Ces commandes peuvent être utile si une contrainte a été oubliée ou n'aurait pas dû être insérée.</p><h3 class="heading 3" id="4.2.3">Supprimer une contrainte</h3><p><span style="font-family:Consolas;">ALTER TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
DROP CONSTRAINT</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>nomContrainte</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="4.2.4">Activer une contrainte d'intégrité</h3><p><span style="font-family:Consolas;">ALTER TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
ENABLE</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>nomContrainte</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="4.2.5">Désactiver une contrainte d'intégrité</h3><p><span style="font-family:Consolas;">ALTER TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
DISABLE</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>nomContrainte</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="4.3">Copier une table</h2><p><span style="font-family:Consolas;">CREATE TABLE </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;"> AS (SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">);</span></p><h2 class="heading 2" id="4.4">Renommer une table</h2><p><span style="font-family:Consolas;">RENAME </span><span style="font-family:Consolas;"><i>ancienNom</i></span><span style="font-family:Consolas;"> TO </span><span style="font-family:Consolas;"><i>nouveauNom</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="4.5">Supprimer une table</h2><p><span style="font-family:Consolas;">DROP TABLE [IF EXISTS] </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> [CASCADE CONSTRAINTS</span><span style="font-family:Consolas;">];</span></p><h1 class="heading 1" id="5">Requêtes de mise à jour du contenu de la table</h1><h2 class="heading 2" id="5.1">Insérer un ou plusieurs enregistrement (ligne)</h2><p><span style="font-family:Consolas;">INSERT INTO </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> [(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">…)] VALUES</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>valeur1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>valeur2</i></span><span style="font-family:Consolas;">…</span><span style="font-family:Consolas;">);</span></p><h2 class="heading 2" id="5.2">Mettre à jour un ou plusieurs enregistrement(s)respectant la condition</h2><p><span style="font-family:Consolas;">UPDATE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
SET </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>valeur1</i></span><span style="font-family:Consolas;"> [, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>valeur2</i></span><span style="font-family:Consolas;">…]</span><span style="font-family:Consolas;"><br/>
WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="5.3">Supprimer un ou plusieurs enregistrement(s)respectant la condition</h2><p><span style="font-family:Consolas;">DELETE FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">;</span></p><h1 class="heading 1" id="6">Requêtes de mise à jour de la structure de la table</h1><h2 class="heading 2" id="6.1">Ajouter une colonne</h2><p><span style="font-family:Consolas;">ALTER TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
ADD </span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="6.2">Supprimer une colonne</h2><p><span style="font-family:Consolas;">ALTER TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
DROP [COLUMN] </span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="6.3">Modifier le type d'une colonne</h2><p><span style="font-family:Consolas;">ALTER TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
MODIFY </span><span style="font-family:Consolas;">attribut </span><span style="font-family:Consolas;"><i>nouveauType</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="6.4">Modifier le nom d'une colonne</h2><p><span style="font-family:Consolas;">ALTER TABLE </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
RENAME </span><span style="font-family:Consolas;"><i>ancienNom</i></span><span style="font-family:Consolas;"> TO </span><span style="font-family:Consolas;"><i>nouveauNom</i></span><span style="font-family:Consolas;">;</span></p><h1 class="heading 1" id="7">Requêtes de sélection de données</h1><h2 class="heading 2" id="7.1">Syntaxe de base</h2><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">… FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[</span><span style="font-family:Consolas;">WHERE </span><span style="font-family:Consolas;"><i>condition1</i></span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
[</span><span style="font-family:Consolas;">GROUP BY </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> [, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">…]</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[HAVING </span><span style="font-family:Consolas;"><i>condition2</i></span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[ORDER BY </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> [DESC], </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;"> [DESC]…</span><span style="font-family:Consolas;">];</span></p><h2 class="heading 2" id="7.2">La clause SELECT</h2><h3 class="heading 3" id="7.2.1">Sélection de tous les enregistrements de la table</h3><p><span style="font-family:Consolas;">SELECT * FROM </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.2.2">Sélection de certains attributs de la table</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.2.3">Sélection d’un attribut de la table sans répétitions</h3><p><span style="font-family:Consolas;">SELECT</span><span style="font-family:Consolas;"> DISTINCT</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.2.4">Utilisation d'une fonction d'agrégat (ne renvoie qu’une seule valeur sans regroupement)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>maFonction</i></span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">) FROM table</span><span style="font-family:Consolas;">1;</span></p><p><span style="font-family:Consolas;"><br/></span></p><ul><li class="list paragraph"><span style="font-family:Poppins SemiBold;">Sélection des </span><span style="font-family:Poppins SemiBold;"><i>n</i></span><span style="font-family:Poppins SemiBold;"> premiers enregistrements de la table</span></li></ul><p><span style="font-family:Consolas;">SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[ORDER BY </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> [DESC], </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;"> [DESC]…]</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">FETCH FIRST </span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;"> ROW[S] </span><span style="font-family:Consolas;">ONLY;</span></p><h3 class="heading 3" id="7.2.5">Sélection des colonnes en fonction de la valeur d’une colonne</h3><p><span style="font-family:Consolas;">SELECT CASE </span><span style="font-family:Consolas;"><i>colonne0</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;WHEN </span><span style="font-family:Consolas;"><i>valeur1</i></span><span style="font-family:Consolas;"> THEN </span><span style="font-family:Consolas;"><i>colonne1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;WHEN </span><span style="font-family:Consolas;"><i>valeur2</i></span><span style="font-family:Consolas;"> THEN </span><span style="font-family:Consolas;"><i>colonne2</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">&nbsp;&nbsp;&nbsp;&nbsp;…</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">   [</span><span style="font-family:Consolas;">ELSE </span><span style="font-family:Consolas;"><i>colonne3</i></span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">END</span><span style="font-family:Consolas;"> AS </span><span style="font-family:Consolas;"><i>nomColonne</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span></p><h2 class="heading 2" id="7.3">Les jointures (clause JOIN)</h2><p>Les jointures permettent de sélectionner des attributs de plusieurs tables différentes (les jointures peuvent s’accumuler).</p><h3 class="heading 3" id="7.3.1">Syntaxe de base</h3><p><span style="font-family:Consolas;">SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
JOIN </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;"> ON </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[</span><span style="font-family:Consolas;">JOIN </span><span style="font-family:Consolas;"><i>table3</i></span><span style="font-family:Consolas;"> ON </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>table3</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"><br/>
…</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[</span><span style="font-family:Consolas;">WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">];</span></p><h3 class="heading 3" id="7.3.2">Jointure interne simple</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[INNER] JOIN </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;"> ON </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"><i>4</i></span><span style="font-family:Consolas;">;</span></p><p>Autre solution (à utiliser uniquement pour deux attributs identiques de deux tables différentes) :</p><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[INNER] JOIN </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">USING(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">);</span></p><h3 class="heading 3" id="7.3.3">Jointure externe gauche (avec des enregistrements de la table de gauche non présents dans la table de droite)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
LEFT [OUTER] JOIN </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;"> ON </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.3.4">Jointure externe droite (avec des enregistrements de la table de droite non présents dans la table de gauche)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">RIGHT [OUTER] JOIN </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;"> ON </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.3.5">Jointure externe entière (avec des tous les enregistrements non présents dans une autre table)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">FULL [OUTER] JOIN </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;"> ON </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.3.6">Jointure naturelle (pour deux tables avec une colonne du même nom)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">NATURAL JOIN </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.3.7">Produit cartésien (retourne chaque ligne d'une table avec chaque ligne d'une autre table)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">CROSS JOIN </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="7.4">Les alias</h2><h3 class="heading 3" id="7.4.1">Alias sur les tables (pour faciliter les jointures)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>t</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>t2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>t1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">JOIN </span><span style="font-family:Consolas;"><i>table2</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>t2</i></span><span style="font-family:Consolas;"> ON </span><span style="font-family:Consolas;"><i>t1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>t2</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut4</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.4.2">Alias sur une fonction d'agrégat (pour nommer une colonne sans nom ou renommer une colonne)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>maFonction</i></span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">) [AS] </span><span style="font-family:Consolas;"><i>nomColonne</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="7.5">La clause WHERE</h2><h3 class="heading 3" id="7.5.1">Sélection des enregistrements de la table respectant la condition</h3><p><span style="font-family:Consolas;">SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="7.6">Les clauses GROUP BY et HAVING</h2><h3 class="heading 3" id="7.6.1">Utilisation d’une fonction d’agrégat sur chaque groupe d’enregistrements de même(s) attribut(s)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>maFonction</i></span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">), </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;">… FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">GROUP BY </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;">…;</span></p><h3 class="heading 3" id="7.6.2">Utilisation d’une fonction d’agrégat sur chaque groupe d’enregistrements de même(s) attribut(s) avec une condition avant et après regroupement</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>maFonction</i></span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">), </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;">… FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">WHERE </span><span style="font-family:Consolas;"><i>conditionAvantRegroupement</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">GROUP BY </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut3</i></span><span style="font-family:Consolas;">…</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">HAVING </span><span style="font-family:Consolas;"><i>conditionApresRegroupement</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="7.7">La clause ORDER BY</h2><h3 class="heading 3" id="7.7.1">Sélection des enregistrements de la table dans l’ordre croissant</h3><p><span style="font-family:Consolas;">SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">ORDER BY </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> [</span><span style="font-family:Consolas;">ASC</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;">[</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;"> [</span><span style="font-family:Consolas;">ASC</span><span style="font-family:Consolas;">]…</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.7.2">Sélection des enregistrements de la table dans l’ordre décroissant</h3><p><span style="font-family:Consolas;">SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">ORDER BY </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">DESC[</span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">DESC</span><span style="font-family:Consolas;">…</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="7.8">Les requêtes multiples de sélection</h2><h3 class="heading 3" id="7.8.1">Les sous-requêtes</h3><p>Les sous-requêtes sont des requêtes effectuées dans d’autres requêtes. Elles remplacent souvent les tables, mais peuvent également remplacer les attributs uniquement si elles ne renvoient qu’une seule valeur.</p><h3 class="heading 3" id="7.8.2">Sélection des enregistrements d'un attribut présents dans la première table ou la deuxième ou les deux (union)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">UNION</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.8.3">Sélection des enregistrements d'un attribut présents dans la première table, mais pas la deuxième (différence)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">MINUS</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="7.8.4">Sélection des enregistrements d'un attribut présents dans la première table et la deuxième (intersection)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">INTERSECT</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">;</span></p><h1 class="heading 1" id="8">Les index</h1><p>Les index permettent de gagner en temps d’exécution pour une sélection d’une colonne avec beaucoup de valeurs.</p><h2 class="heading 2" id="8.1">Créer un index</h2><p><span style="font-family:Consolas;">CREATE INDEX </span><span style="font-family:Consolas;"><i>monIndex</i></span><span style="font-family:Consolas;"> ON </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> [(</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">[, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">…])</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="8.2">Supprimer un index</h2><p><span style="font-family:Consolas;">DROP</span><span style="font-family:Consolas;"> INDEX </span><span style="font-family:Consolas;"><i>monIndex</i></span><span style="font-family:Consolas;">;</span></p><h1 class="heading 1" id="9">Les vues</h1><p>Les vues permettent de réaliser des requêtes de sélections plus facilement. Elles se comportent comme des tables pour les requêtes de sélection.</p><h2 class="heading 2" id="9.1">Créer une vue</h2><p><span style="font-family:Consolas;">CREATE VIEW </span><span style="font-family:Consolas;"><i>maVue</i></span><span style="font-family:Consolas;"> AS SELECT * FROM </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="9.2">Utiliser la vue</h2><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>attribut2</i></span><span style="font-family:Consolas;">… FROM </span><span style="font-family:Consolas;"><i>maVue</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="9.3">Supprimer la vue</h2><p><span style="font-family:Consolas;">DROP VIEW [IF EXISTS] </span><span style="font-family:Consolas;"><i>maVue</i></span><span style="font-family:Consolas;">;</span></p><h1 class="heading 1" id="10">Les CTE (Common Table Expression)</h1><p>Les CTE sont des vues provisoires, la syntaxe est la suivante :</p><p><span style="font-family:Consolas;">WITH</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;"><i>myCTE1</i></span><span style="font-family:Consolas;"> AS (</span><span style="font-family:Consolas;"><i>requete1</i></span><span style="font-family:Consolas;">),</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;"><i>myCTE2</i></span><span style="font-family:Consolas;"> AS (</span><span style="font-family:Consolas;"><i>requete</i></span><span style="font-family:Consolas;"><i>2</i></span><span style="font-family:Consolas;">)…</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;"><i>requeteFinale</i></span><span style="font-family:Consolas;">;</span></p><h1 class="heading 1" id="11">Autres requêtes de données</h1><h2 class="heading 2" id="11.1">Requête de description d’une table</h2><p><span style="font-family:Consolas;">DESC </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><p>ou</p><p><span style="font-family:Consolas;">DESCRIBE </span><span style="font-family:Consolas;"><i>table</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="11.2">Les transactions</h2><h3 class="heading 3" id="11.2.1">Valider une transaction</h3><p><span style="font-family:Consolas;">COMMIT;</span></p><h3 class="heading 3" id="11.2.2">Annuler une transaction</h3><p><span style="font-family:Consolas;">ROLLBACK;</span></p><p><br/></p><h1 class="heading 1" id="12">Programmation procédurale et structurée (PL/SQL)</h1><h2 class="heading 2" id="12.1">Syntaxe du bloc principal</h2><p><span style="font-family:Consolas;">[DECLARE</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>declarations</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
BEGIN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instructions</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;">[</span><span style="font-family:Consolas;">EXCEPTION</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>gestion_des_erreurs</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
END;</span></p><p class="note">Note : Le bloc DECLARE peut être retiré si aucune déclaration n’a été faite. Le bloc EXCEPTION permet de gérer les erreurs du programme, il n’est donc pas obligatoire. Il est possible de faire plusieurs blocs BEGIN imbriqués.</p><h2 class="heading 2" id="12.2">Déclarations (dans le bloc DECLARE)</h2><h3 class="heading 3" id="12.2.1">Variables de types simples</h3><p><span style="font-family:Consolas;"><i>v</i></span><span style="font-family:Consolas;"><i>_variable1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type1</i></span><span style="font-family:Consolas;"> :</span><span style="font-family:Consolas;">= </span><span style="font-family:Consolas;"><i>valeur</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;"><i>v_variable2</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type2</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
</span><span style="font-family:Consolas;"><i>v_variable3</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type3</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="12.2.2">Variables constantes</h3><p><span style="font-family:Consolas;"><i>v</i></span><span style="font-family:Consolas;"><i>_variable1</i></span><span style="font-family:Consolas;"> CONSTANT </span><span style="font-family:Consolas;"><i>type1</i></span><span style="font-family:Consolas;"> :</span><span style="font-family:Consolas;">= </span><span style="font-family:Consolas;"><i>valeur</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="12.2.3">Variables de types d’une colonne</h3><p><span style="font-family:Consolas;"><i>v</i></span><span style="font-family:Consolas;"><i>_variable1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">.</span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;">%TYPE;</span></p><h3 class="heading 3" id="12.2.4">Variables de types d’une ligne entière d’une table</h3><p><span style="font-family:Consolas;"><i>v</i></span><span style="font-family:Consolas;"><i>_variable1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">%ROWTYPE;</span></p><h3 class="heading 3" id="12.2.5">Curseurs explicites</h3><h4 class="heading 4" id="12.2.5.1">Curseur sans paramètres</h4><p><span style="font-family:Consolas;">CURSOR </span><span style="font-family:Consolas;"><i>c_curseur</i></span><span style="font-family:Consolas;"> IS (SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;"> [ORDER BY </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> [DESC]]</span><span style="font-family:Consolas;">);</span></p><h4 class="heading 4" id="12.2.5.2">Curseur avec paramètres</h4><p><span style="font-family:Consolas;">CURSOR </span><span style="font-family:Consolas;"><i>c_</i></span><span style="font-family:Consolas;"><i>curseur</i></span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>v_attribut1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>typeSansParentheses</i></span><span style="font-family:Consolas;">) IS (SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> WHERE </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> = </span><span style="font-family:Consolas;"><i>v_attribut1</i></span><span style="font-family:Consolas;"> [ORDER BY </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> [DESC]]);</span></p><h4 class="heading 4" id="12.2.5.3">Curseurs avec verrouillage des données (pour une mise à jour de la table notamment)</h4><p><span style="font-family:Consolas;">CURSOR </span><span style="font-family:Consolas;"><i>c_curseur</i></span><span style="font-family:Consolas;"> IS (SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;"> [ORDER BY </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> [DESC]]) FOR </span><span style="font-family:Consolas;">UPDATE;</span></p><p class="note">Note : Pour désigner l’élément sélectionné par le curseur dans une condition, entrez : <span style="font-family:Consolas;">CURRENT OF </span><span style="font-family:Consolas;"><i>c_curseur</i></span></p><h3 class="heading 3" id="12.2.6">Exceptions</h3><h4 class="heading 4" id="12.2.6.1">Exception simple</h4><p><span style="font-family:Consolas;"><i>NOM_EXCEPTION_PERSONNALISEE</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">EXCEPTION</span><span style="font-family:Consolas;">;</span></p><h4 class="heading 4" id="12.2.6.2">Exception créée à l’aide d’un numéro d’exception</h4><p><span style="font-family:Consolas;"><i>NOM_EXCEPTION_PERSONNALISEE</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;">EXCEPTION</span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
PRAGMA EXCEPTION_INIT(</span><span style="font-family:Consolas;"><i>NOM_EXCEPTION_PERSONNALISEE</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>numero_exception</i></span><span style="font-family:Consolas;">);</span></p><h2 class="heading 2" id="12.3">Opération d’affectation</h2><h3 class="heading 3" id="12.3.1">Affectation simple</h3><p><span style="font-family:Consolas;"><i>v</i></span><span style="font-family:Consolas;"><i>_variable</i></span><span style="font-family:Consolas;"> :</span><span style="font-family:Consolas;">= </span><span style="font-family:Consolas;"><i>valeur</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="12.3.2">Affectation avec une requête de sélection (ne fonctionne que si la sélection ne renvoie qu’une seule valeur)</h3><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>attribut1</i></span><span style="font-family:Consolas;"> INTO </span><span style="font-family:Consolas;"><i>v_variable</i></span><span style="font-family:Consolas;"> FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;"> WHERE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="12.4">Conditions</h2><table><tr><td><p><span><b>Instruction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">IF </span><span style="font-family:Consolas;"><i>condition1</i></span><span style="font-family:Consolas;"> THEN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END IF;</span></p></td><td><p>Si <span><i>condition1</i></span> est vraie, alors on exécute <span><i>instruction1</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">IF </span><span style="font-family:Consolas;"><i>condition1</i></span><span style="font-family:Consolas;"> THEN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
ELSE</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction2</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END IF;</span></p></td><td><p>Si <span><i>condition1</i></span> est vraie, alors on exécute <span><i>instruction1</i></span>, sinon, on exécute <span><i>instruction2</i></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">IF </span><span style="font-family:Consolas;"><i>condition1</i></span><span style="font-family:Consolas;"> THEN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
}</span><span style="font-family:Consolas;"><br/>
ELSIF </span><span style="font-family:Consolas;"><i>condition2</i></span><span style="font-family:Consolas;"> THEN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction2</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
ELSE</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction3</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END IF;</span></p></td><td><p>Si <span><i>condition1</i></span> est vraie, alors on exécute <span><i>instruction1</i></span>, sinon, si <span><i>condition2</i></span> est vraie, on exécute <span><i>instruction2</i></span>, sinon, on exécute <span><i>instruction3</i></span></p></td></tr></table><h2 class="heading 2" id="12.5">Boucles</h2><table><tr><td><p><span><b>Instruction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">FOR </span><span style="font-family:Consolas;"><i>i</i></span><span style="font-family:Consolas;"> IN </span><span style="font-family:Consolas;">0..</span><span style="font-family:Consolas;"><i>n</i></span><span style="font-family:Consolas;"> LOOP</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction1</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END LOOP;</span></p></td><td><p>On répète <span><i>n</i></span> fois <span><i>instruction1</i></span> pour <span><i>i</i></span> allant de 0 à <span><i>n</i></span> compris (pas besoin de déclarer la variable, elle est déclarée implicitement et est détruite à la fin de la boucle)</p></td></tr><tr><td><p><span style="font-family:Consolas;">FOR </span><span style="font-family:Consolas;"><i>elt</i></span><span style="font-family:Consolas;"> IN (SELECT * FROM </span><span style="font-family:Consolas;"><i>table1</i></span><span style="font-family:Consolas;">) LOOP</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END LOOP;</span></p></td><td><p>On parcourt la requête de sélection (ou une chaine de caractère) pour <span><i>elt</i></span> prenant tous les enregistrements de la requête (pas besoin de déclarer la variable, elle est déclarée implicitement et est détruite à la fin de la boucle)</p></td></tr><tr><td><p><span style="font-family:Consolas;">WHILE </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;"> LOOP</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END LOOP;</span></p></td><td><p>On répète jusqu’à ce que condition soit fausse (peut ne pas être répété)</p></td></tr><tr><td><p><span style="font-family:Consolas;">LOOP</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;EXIT WHEN </span><span style="font-family:Consolas;"><i>condition</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instruction2</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END LOOP;</span></p></td><td><p>On répète jusqu’à ce que condition soit fausse (<span><i>instruction1</i></span> est forcément répété une fois)</p></td></tr><tr><td><p><span style="font-family:Consolas;">EXIT;</span></p></td><td><p>Permet de sortir d’une boucle sans la terminer</p></td></tr></table><h2 class="heading 2" id="12.6">Les curseurs implicites et explicites</h2><h3 class="heading 3" id="12.6.1">Les curseurs implicites</h3><table><tr><td><p><span><b>Curseur</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">SQL%ROWCOUNT</span></p></td><td><p>Nombre de lignes traitées par la requête précédentes de mise à jour de la table</p></td></tr><tr><td><p><span style="font-family:Consolas;">c</span><span style="font-family:Consolas;">_curseur%NOTFOUND</span></p></td><td><p>Vérifier que le curseur est vide ou la dernière ligne est déjà atteinte</p></td></tr><tr><td><p><span style="font-family:Consolas;">c</span><span style="font-family:Consolas;">_curseur%FOUND</span></p></td><td><p>Vérifier que le curseur n’est pas vide ou la dernière ligne n’est pas encore atteinte</p></td></tr><tr><td><p><span style="font-family:Consolas;">c</span><span style="font-family:Consolas;">_curseur%ISOPEN</span></p></td><td><p>Vérifier que le curseur est ouvert</p></td></tr></table><h3 class="heading 3" id="12.6.2">Les curseurs explicites</h3><p><span style="font-family:Consolas;">OPEN </span><span style="font-family:Consolas;"><i>c_curseur</i></span><span style="font-family:Consolas;">[(</span><span style="font-family:Consolas;"><i>parametres</i></span><span style="font-family:Consolas;">)</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
LOOP</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;FETCH </span><span style="font-family:Consolas;"><i>c_curseur</i></span><span style="font-family:Consolas;"> INTO </span><span style="font-family:Consolas;"><i>v_variable</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;EXIT WHEN </span><span style="font-family:Consolas;"><i>c_curseur</i></span><span style="font-family:Consolas;">%NOTFOUND</span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instructions</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END LOOP;</span><span style="font-family:Consolas;"><br/>
CLOSE </span><span style="font-family:Consolas;"><i>c_curseur</i></span><span style="font-family:Consolas;">; </span></p><p>ou</p><p><span style="font-family:Consolas;">FOR </span><span style="font-family:Consolas;"><i>v_variable</i></span><span style="font-family:Consolas;"> IN </span><span style="font-family:Consolas;"><i>c_curseur</i></span><span style="font-family:Consolas;">[(</span><span style="font-family:Consolas;"><i>parametres</i></span><span style="font-family:Consolas;">)</span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"> LOOP</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instructions</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END LOOP;</span></p><h2 class="heading 2" id="12.7">Les procédures</h2><h3 class="heading 3" id="12.7.1">Créer une procédure</h3><p><span style="font-family:Consolas;">CREATE OR REPLACE PROCEDURE </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;"><i>aP</i></span><span style="font-family:Consolas;"><i>rocedure</i></span><span style="font-family:Consolas;"> [(</span><span style="font-family:Consolas;"><i>parametreEntree1</i></span><span style="font-family:Consolas;"> IN </span><span style="font-family:Consolas;"><i>type</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>parametreSortie1</i></span><span style="font-family:Consolas;"> OUT </span><span style="font-family:Consolas;"><i>type2</i></span><span style="font-family:Consolas;">…)]</span><span style="font-family:Consolas;"><br/>
IS</span><span style="font-family:Consolas;"><br/>
 </span><span style="font-family:Consolas;">   [</span><span style="font-family:Consolas;"><i>déclarations</i></span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
BEGIN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instructions</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
EXCEPTION</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>gestion_des_erreurs</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END;</span></p><p class="note">Note : Les paramètres d’entrée et de sortie ne sont pas obligatoires. Une variable en paramètre peut être à la fois une entrée et une sortie (avec IN OUT). La gestion des exceptions n’est pas obligatoire.</p><h3 class="heading 3" id="12.7.2">Retourner une valeur de la procédure</h3><p><span style="font-family:Consolas;"><i>parametreSortie</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;"> := </span><span style="font-family:Consolas;"><i>valeur</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="12.7.3">Faire un appel à la procédure</h3><p><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;"><i>aP</i></span><span style="font-family:Consolas;"><i>rocedure</i></span><span style="font-family:Consolas;">[</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>variable1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>variable2</i></span><span style="font-family:Consolas;">)];</span></p><p>ou en dehors d'un bloc :</p><p><span style="font-family:Consolas;">EXECUTE </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;"><i>aP</i></span><span style="font-family:Consolas;"><i>rocedure</i></span><span style="font-family:Consolas;">[</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>variable1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>variable2</i></span><span style="font-family:Consolas;">…)];</span></p><h3 class="heading 3" id="12.7.4">Supprimer une procédure</h3><p><span style="font-family:Consolas;">DROP PROCEDURE </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;"><i>aP</i></span><span style="font-family:Consolas;"><i>rocedure</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="12.8">Les fonctions</h2><h3 class="heading 3" id="12.8.1">Créer une fonction</h3><p><span style="font-family:Consolas;">CREATE OR REPLACE FUNCTION </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;"><i>aF</i></span><span style="font-family:Consolas;"><i>ontion</i></span><span style="font-family:Consolas;"> [(</span><span style="font-family:Consolas;"><i>parametre1</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>parametre2</i></span><span style="font-family:Consolas;"> </span><span style="font-family:Consolas;"><i>type2</i></span><span style="font-family:Consolas;">…)]</span><span style="font-family:Consolas;"><br/>
RETURN </span><span style="font-family:Consolas;"><i>type3</i></span><span style="font-family:Consolas;"><br/>
IS</span><span style="font-family:Consolas;"><br/>
 </span><span style="font-family:Consolas;">   [</span><span style="font-family:Consolas;"><i>déclarations</i></span><span style="font-family:Consolas;">]</span><span style="font-family:Consolas;"><br/>
BEGIN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instructions</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
EXCEPTION</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>gestion_des_erreurs</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
END;</span></p><h3 class="heading 3" id="12.8.2">Retourner une valeur de la fonction</h3><p><span style="font-family:Consolas;">RETURN </span><span style="font-family:Consolas;"><i>variable</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="12.8.3">Faire un appel à la fonction</h3><p><span style="font-family:Consolas;"><i>variable</i></span><span style="font-family:Consolas;"> := </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;"><i>aF</i></span><span style="font-family:Consolas;"><i>ontion</i></span><span style="font-family:Consolas;">[(</span><span style="font-family:Consolas;"><i>variable1</i></span><span style="font-family:Consolas;">, variable2</span><span style="font-family:Consolas;">…</span><span style="font-family:Consolas;">)];</span></p><p>ou en dehors d'un bloc :</p><p><span style="font-family:Consolas;">SELECT </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;"><i>aF</i></span><span style="font-family:Consolas;"><i>ontion</i></span><span style="font-family:Consolas;">[</span><span style="font-family:Consolas;">(</span><span style="font-family:Consolas;"><i>variable1</i></span><span style="font-family:Consolas;">, </span><span style="font-family:Consolas;"><i>variable2</i></span><span style="font-family:Consolas;">…</span><span style="font-family:Consolas;">)] FROM dual;</span></p><h3 class="heading 3" id="12.8.4">Supprimer une fonction</h3><p><span style="font-family:Consolas;">DROP FUNCTION </span><span style="font-family:Consolas;"><i>m</i></span><span style="font-family:Consolas;"><i>aF</i></span><span style="font-family:Consolas;"><i>ontion</i></span><span style="font-family:Consolas;">;</span></p><h2 class="heading 2" id="12.9">Les exceptions (dans le bloc EXCEPTION)</h2><h3 class="heading 3" id="12.9.1">Exceptions prédéfinies</h3><table><tr><td><p><span><b>Nom exception</b></span></p></td><td><p><span><b>Erreur Oracle</b></span></p></td><td><p><span><b>Numéro exception</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p>(Sans nom)</p></td><td><p>ORA-00001</p></td><td><p>-803</p></td><td><p>Violation de contrainte unique</p></td></tr><tr><td><p>(Sans nom)</p></td><td><p>ORA-01400</p></td><td><p>-407</p></td><td><p>Violation de contrainte not null</p></td></tr><tr><td><p><span style="font-family:Consolas;">NO_DATA_FOUND</span></p></td><td><p>ORA-01403</p></td><td><p>100</p></td><td><p>Aucune donnée trouvée</p></td></tr><tr><td><p><span style="font-family:Consolas;">TOO_MANY_ROWS</span></p></td><td><p>ORA-01422</p></td><td><p>-1422</p></td><td><p>Plus d’une ligne de renvoyées</p></td></tr><tr><td><p><span style="font-family:Consolas;">ZERO_DIVIDE</span></p></td><td><p>ORA-01476</p></td><td><p>-1476</p></td><td><p>Division par zéro</p></td></tr><tr><td><p>(Sans nom)</p></td><td><p>ORA-02290</p></td><td><p>-2290</p></td><td><p>Violation de contrainte check</p></td></tr><tr><td><p><span style="font-family:Consolas;">STORAGE_ERROR</span></p></td><td><p>ORA-06500</p></td><td><p>-6500</p></td><td><p>Erreur de stockage</p></td></tr><tr><td><p><span style="font-family:Consolas;">VALUE_ERROR</span></p></td><td><p>ORA-06502</p></td><td><p>-6502</p></td><td><p>Valeur incorrecte</p></td></tr><tr><td><p><span style="font-family:Consolas;">CURSOR_ALREADY_OPEN</span></p></td><td><p>ORA-06511</p></td><td><p>-6511</p></td><td><p>Curseur déjà ouvert</p></td></tr><tr><td><p><span style="font-family:Consolas;">COLLECTION_IS_NULL</span></p></td><td><p>ORA-06531</p></td><td><p>-6531</p></td><td><p>Collection nulle</p></td></tr><tr><td><p>(Sans nom)</p></td><td><p>ORA-00902</p></td><td><p>-104 ou -199</p></td><td><p>Type de donnée invalide</p></td></tr><tr><td><p><span style="font-family:Consolas;">OTHER</span></p></td><td><p>ORA-42612</p></td><td><p>-84</p></td><td><p>Autres erreurs</p></td></tr></table><h3 class="heading 3" id="12.9.2">Provoquer une erreur personnalisée</h3><p><span style="font-family:Consolas;">RAISE </span><span style="font-family:Consolas;"><i>NOM_EXCEPTION_</i></span><span style="font-family:Consolas;"><i>PERSONNALISEE</i></span><span style="font-family:Consolas;">;</span></p><h3 class="heading 3" id="12.9.3">Gestion des erreurs (dans le bloc EXCEPTION)</h3><p><span style="font-family:Consolas;">WHEN </span><span style="font-family:Consolas;"><i>NOM_EXCEPTION1</i></span><span style="font-family:Consolas;"> THEN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instructions</i></span><span style="font-family:Consolas;"><i>1</i></span><span style="font-family:Consolas;">;</span><span style="font-family:Consolas;"><br/>
WHEN </span><span style="font-family:Consolas;"><i>NOM_EXCEPTION2</i></span><span style="font-family:Consolas;"> THEN</span><span style="font-family:Consolas;"><br/>
&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="font-family:Consolas;"><i>instructions2</i></span><span style="font-family:Consolas;">; </span></p><h2 class="heading 2" id="12.10">Les instructions de base</h2><table><tr><td><p><span><b>Instruction</b></span></p></td><td><p><span><b>Description</b></span></p></td></tr><tr><td><p><span style="font-family:Consolas;">SET SERVEROUTPUT </span><span style="font-family:Consolas;">ON;</span></p></td><td><p>Activer les commandes d’affichage de messages dans la console (à exécuter 1 fois par fichier au démarrage de SQL Developer)</p></td></tr><tr><td><p><span style="font-family:Consolas;">DBMS_OUTPUT.PUT_LINE('</span><span style="font-family:Consolas;"><i>texte</i></span><span style="font-family:Consolas;">'</span><span style="font-family:Consolas;">);</span></p></td><td><p>Affiche un texte dans la console avec un retour à la ligne</p></td></tr></table>
			</article>
		</main>
		<footer>
			<script src="../../scripts/footer.js"></script>
			<a class="top" href="#"><img src="../../images/top.png"></a>
		</footer>
		<script src="../../scripts/script.js"></script>
		<script src="../../scripts/tableDesMatieres.js"></script>
	</body>
</html>
